/*! For license information please see component---src-pages-index-js-a1f8a0058ef812835b4e.js.LICENSE.txt */
"use strict";(self.webpackChunkquick_chess=self.webpackChunkquick_chess||[]).push([[678],{5498:function(t,e,s){s.r(e),s.d(e,{Head:function(){return K},default:function(){return F}});var i=s(7294);const o="w",r="b",n="p",a="b",A="r",h="q",c="k",l="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class u{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(t,e){const{color:s,piece:i,from:o,to:r,flags:n,captured:a,promotion:A}=e,h=U(o),c=U(r);this.color=s,this.piece=i,this.from=h,this.to=c,this.san=t._moveToSan(e,t._moves({legal:!0})),this.lan=h+c,this.before=t.fen(),t._makeMove(e),this.after=t.fen(),t._undoMove(),this.flags="";for(const l in p)p[l]&n&&(this.flags+=g[l]);a&&(this.captured=a),A&&(this.promotion=A,this.lan+=A)}isCapture(){return this.flags.indexOf(g.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(g.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(g.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(g.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(g.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(g.BIG_PAWN)>-1}}const d=-1,g={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},f=["a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1"],p={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},m={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},C={b:[16,32,17,15],w:[-16,-32,-17,-15]},b={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},E=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],k=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],S={p:1,n:2,b:4,r:8,q:16,k:32},v=["n",a,A,h],R={[c]:p.KSIDE_CASTLE,[h]:p.QSIDE_CASTLE},_={w:[{square:m.a1,flag:p.QSIDE_CASTLE},{square:m.h1,flag:p.KSIDE_CASTLE}],b:[{square:m.a8,flag:p.QSIDE_CASTLE},{square:m.h8,flag:p.KSIDE_CASTLE}]},w={b:1,w:6},N=["1-0","0-1","1/2-1/2","*"];function I(t){return t>>4}function D(t){return 15&t}function q(t){return-1!=="0123456789".indexOf(t)}function U(t){const e=D(t),s=I(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(s,s+1)}function Q(t){return t===o?r:o}function P(t,e,s,i,o,r=void 0,a=p.NORMAL){const A=I(i);if(o!==n||7!==A&&0!==A)t.push({color:e,from:s,to:i,piece:o,captured:r,flags:a});else for(let n=0;n<v.length;n++){const A=v[n];t.push({color:e,from:s,to:i,piece:o,captured:r,promotion:A,flags:a|p.PROMOTION})}}function O(t){let e=t.charAt(0);if(e>="a"&&e<="h"){if(t.match(/[a-h]\d.*[a-h]\d/))return;return n}return e=e.toLowerCase(),"o"===e?c:e}function y(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function L(t){return t.split(" ").slice(0,4).join(" ")}const B=new class{_board=new Array(128);_turn=o;_header={};_kings={w:d,b:d};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_positionCount={};constructor(t=l,{skipValidation:e=!1}={}){this.load(t,{skipValidation:e})}clear({preserveHeaders:t=!1}={}){this._board=new Array(128),this._kings={w:d,b:d},this._turn=o,this._castling={w:0,b:0},this._epSquare=d,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{},this._positionCount={},delete this._header.SetUp,delete this._header.FEN}load(t,{skipValidation:e=!1,preserveHeaders:s=!1}={}){let i=t.split(/\s+/);if(i.length>=2&&i.length<6){const e=["-","-","0","1"];t=i.concat(e.slice(-(6-i.length))).join(" ")}if(i=t.split(/\s+/),!e){const{ok:e,error:s}=function(t){const e=t.split(/\s+/);if(6!==e.length)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const s=parseInt(e[5],10);if(isNaN(s)||s<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const i=parseInt(e[4],10);if(isNaN(i)||i<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const o=e[0].split("/");if(8!==o.length)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let n=0;n<o.length;n++){let t=0,e=!1;for(let s=0;s<o[n].length;s++)if(q(o[n][s])){if(e)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};t+=parseInt(o[n][s],10),e=!0}else{if(!/^[prnbqkPRNBQK]$/.test(o[n][s]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};t+=1,e=!1}if(8!==t)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if("3"==e[3][1]&&"w"==e[1]||"6"==e[3][1]&&"b"==e[1])return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const r=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:n,regex:a}of r){if(!a.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${n} king`};if((e[0].match(a)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${n} kings`}}return Array.from(o[0]+o[7]).some((t=>"P"===t.toUpperCase()))?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}(t);if(!e)throw new Error(s)}const n=i[0];let a=0;this.clear({preserveHeaders:s});for(let A=0;A<n.length;A++){const t=n.charAt(A);if("/"===t)a+=8;else if(q(t))a+=parseInt(t,10);else{const e=t<"a"?o:r;this._put({type:t.toLowerCase(),color:e},U(a)),a++}}this._turn=i[1],i[2].indexOf("K")>-1&&(this._castling.w|=p.KSIDE_CASTLE),i[2].indexOf("Q")>-1&&(this._castling.w|=p.QSIDE_CASTLE),i[2].indexOf("k")>-1&&(this._castling.b|=p.KSIDE_CASTLE),i[2].indexOf("q")>-1&&(this._castling.b|=p.QSIDE_CASTLE),this._epSquare="-"===i[3]?d:m[i[3]],this._halfMoves=parseInt(i[4],10),this._moveNumber=parseInt(i[5],10),this._updateSetup(t),this._incPositionCount(t)}fen(){let t=0,e="";for(let r=m.a8;r<=m.h1;r++){if(this._board[r]){t>0&&(e+=t,t=0);const{color:s,type:i}=this._board[r];e+=s===o?i.toUpperCase():i.toLowerCase()}else t++;r+1&136&&(t>0&&(e+=t),r!==m.h1&&(e+="/"),t=0,r+=8)}let s="";this._castling[o]&p.KSIDE_CASTLE&&(s+="K"),this._castling[o]&p.QSIDE_CASTLE&&(s+="Q"),this._castling[r]&p.KSIDE_CASTLE&&(s+="k"),this._castling[r]&p.QSIDE_CASTLE&&(s+="q"),s=s||"-";let i="-";if(this._epSquare!==d){const t=this._epSquare+(this._turn===o?16:-16),e=[t+1,t-1];for(const s of e){if(136&s)continue;const t=this._turn;if(this._board[s]?.color===t&&this._board[s]?.type===n){this._makeMove({color:t,from:s,to:this._epSquare,piece:n,captured:n,flags:p.EP_CAPTURE});const e=!this._isKingAttacked(t);if(this._undoMove(),e){i=U(this._epSquare);break}}}}return[e,this._turn,s,i,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(t){this._history.length>0||(t!==l?(this._header.SetUp="1",this._header.FEN=t):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(l)}get(t){return this._board[m[t]]}put({type:t,color:e},s){return!!this._put({type:t,color:e},s)&&(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0)}_put({type:t,color:e},s){if(-1==="pnbrqkPNBRQK".indexOf(t.toLowerCase()))return!1;if(!(s in m))return!1;const i=m[s];if(t==c&&this._kings[e]!=d&&this._kings[e]!=i)return!1;const o=this._board[i];return o&&o.type===c&&(this._kings[o.color]=d),this._board[i]={type:t,color:e},t===c&&(this._kings[e]=i),!0}remove(t){const e=this.get(t);return delete this._board[m[t]],e&&e.type===c&&(this._kings[e.color]=d),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),e}_updateCastlingRights(){const t=this._board[m.e1]?.type===c&&this._board[m.e1]?.color===o,e=this._board[m.e8]?.type===c&&this._board[m.e8]?.color===r;t&&this._board[m.a1]?.type===A&&this._board[m.a1]?.color===o||(this._castling.w&=~p.QSIDE_CASTLE),t&&this._board[m.h1]?.type===A&&this._board[m.h1]?.color===o||(this._castling.w&=~p.KSIDE_CASTLE),e&&this._board[m.a8]?.type===A&&this._board[m.a8]?.color===r||(this._castling.b&=~p.QSIDE_CASTLE),e&&this._board[m.h8]?.type===A&&this._board[m.h8]?.color===r||(this._castling.b&=~p.KSIDE_CASTLE)}_updateEnPassantSquare(){if(this._epSquare===d)return;const t=this._epSquare+(this._turn===o?-16:16),e=this._epSquare+(this._turn===o?16:-16),s=[e+1,e-1];if(null!==this._board[t]||null!==this._board[this._epSquare]||this._board[e]?.color!==Q(this._turn)||this._board[e]?.type!==n)return void(this._epSquare=d);s.some((t=>!(136&t)&&this._board[t]?.color===this._turn&&this._board[t]?.type===n))||(this._epSquare=d)}_attacked(t,e,s){const i=[];for(let a=m.a8;a<=m.h1;a++){if(136&a){a+=7;continue}if(void 0===this._board[a]||this._board[a].color!==t)continue;const A=this._board[a],h=a-e;if(0===h)continue;const c=h+119;if(E[c]&S[A.type]){if(A.type===n){if(h>0&&A.color===o||h<=0&&A.color===r){if(!s)return!0;i.push(U(a))}continue}if("n"===A.type||"k"===A.type){if(s){i.push(U(a));continue}return!0}const t=k[c];let l=a+t,u=!1;for(;l!==e;){if(null!=this._board[l]){u=!0;break}l+=t}if(!u){if(s){i.push(U(a));continue}return!0}}}return!!s&&i}attackers(t,e){return e?this._attacked(e,m[t],!0):this._attacked(this._turn,m[t],!0)}_isKingAttacked(t){const e=this._kings[t];return-1!==e&&this._attacked(Q(t),e)}isAttacked(t,e){return this._attacked(e,m[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&0===this._moves().length}isStalemate(){return!this.isCheck()&&0===this._moves().length}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},e=[];let s=0,i=0;for(let o=m.a8;o<=m.h1;o++){if(i=(i+1)%2,136&o){o+=7;continue}const r=this._board[o];r&&(t[r.type]=r.type in t?t[r.type]+1:1,r.type===a&&e.push(i),s++)}if(2===s)return!0;if(3===s&&(1===t[a]||1===t.n))return!0;if(s===t[a]+2){let t=0;const s=e.length;for(let i=0;i<s;i++)t+=e[i];if(0===t||t===s)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this.fen())>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:t=!1,square:e,piece:s}={}){const i=this._moves({square:e,piece:s});return t?i.map((t=>new u(this,t))):i.map((t=>this._moveToSan(t,i)))}_moves({legal:t=!0,piece:e,square:s}={}){const i=s?s.toLowerCase():void 0,o=e?.toLowerCase(),r=[],a=this._turn,A=Q(a);let h=m.a8,l=m.h1,u=!1;if(i){if(!(i in m))return[];h=l=m[i],u=!0}for(let g=h;g<=l;g++){if(136&g){g+=7;continue}if(!this._board[g]||this._board[g].color===A)continue;const{type:t}=this._board[g];let e;if(t===n){if(o&&o!==t)continue;e=g+C[a][0],this._board[e]||(P(r,a,g,e,n),e=g+C[a][1],w[a]!==I(g)||this._board[e]||P(r,a,g,e,n,void 0,p.BIG_PAWN));for(let t=2;t<4;t++)e=g+C[a][t],136&e||(this._board[e]?.color===A?P(r,a,g,e,n,this._board[e].type,p.CAPTURE):e===this._epSquare&&P(r,a,g,e,n,n,p.EP_CAPTURE))}else{if(o&&o!==t)continue;for(let s=0,i=b[t].length;s<i;s++){const i=b[t][s];for(e=g;e+=i,!(136&e);){if(this._board[e]){if(this._board[e].color===a)break;P(r,a,g,e,t,this._board[e].type,p.CAPTURE);break}if(P(r,a,g,e,t),"n"===t||t===c)break}}}}if(!(void 0!==o&&o!==c||u&&l!==this._kings[a])){if(this._castling[a]&p.KSIDE_CASTLE){const t=this._kings[a],e=t+2;this._board[t+1]||this._board[e]||this._attacked(A,this._kings[a])||this._attacked(A,t+1)||this._attacked(A,e)||P(r,a,this._kings[a],e,c,void 0,p.KSIDE_CASTLE)}if(this._castling[a]&p.QSIDE_CASTLE){const t=this._kings[a],e=t-2;this._board[t-1]||this._board[t-2]||this._board[t-3]||this._attacked(A,this._kings[a])||this._attacked(A,t-1)||this._attacked(A,e)||P(r,a,this._kings[a],e,c,void 0,p.QSIDE_CASTLE)}}if(!t||-1===this._kings[a])return r;const d=[];for(let n=0,c=r.length;n<c;n++)this._makeMove(r[n]),this._isKingAttacked(a)||d.push(r[n]),this._undoMove();return d}move(t,{strict:e=!1}={}){let s=null;if("string"==typeof t)s=this._moveFromSan(t,e);else if("object"==typeof t){const e=this._moves();for(let i=0,o=e.length;i<o;i++)if(t.from===U(e[i].from)&&t.to===U(e[i].to)&&(!("promotion"in e[i])||t.promotion===e[i].promotion)){s=e[i];break}}if(!s)throw"string"==typeof t?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);const i=new u(this,s);return this._makeMove(s),this._incPositionCount(i.after),i}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(t){const e=this._turn,s=Q(e);if(this._push(t),this._board[t.to]=this._board[t.from],delete this._board[t.from],t.flags&p.EP_CAPTURE&&(this._turn===r?delete this._board[t.to-16]:delete this._board[t.to+16]),t.promotion&&(this._board[t.to]={type:t.promotion,color:e}),this._board[t.to].type===c){if(this._kings[e]=t.to,t.flags&p.KSIDE_CASTLE){const e=t.to-1,s=t.to+1;this._board[e]=this._board[s],delete this._board[s]}else if(t.flags&p.QSIDE_CASTLE){const e=t.to+1,s=t.to-2;this._board[e]=this._board[s],delete this._board[s]}this._castling[e]=0}if(this._castling[e])for(let i=0,o=_[e].length;i<o;i++)if(t.from===_[e][i].square&&this._castling[e]&_[e][i].flag){this._castling[e]^=_[e][i].flag;break}if(this._castling[s])for(let i=0,o=_[s].length;i<o;i++)if(t.to===_[s][i].square&&this._castling[s]&_[s][i].flag){this._castling[s]^=_[s][i].flag;break}t.flags&p.BIG_PAWN?this._epSquare=e===r?t.to-16:t.to+16:this._epSquare=d,t.piece===n||t.flags&(p.CAPTURE|p.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,e===r&&this._moveNumber++,this._turn=s}undo(){const t=this._undoMove();if(t){const e=new u(this,t);return this._decPositionCount(e.after),e}return null}_undoMove(){const t=this._history.pop();if(void 0===t)return null;const e=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber;const s=this._turn,i=Q(s);if(this._board[e.from]=this._board[e.to],this._board[e.from].type=e.piece,delete this._board[e.to],e.captured)if(e.flags&p.EP_CAPTURE){let t;t=s===r?e.to-16:e.to+16,this._board[t]={type:n,color:i}}else this._board[e.to]={type:e.captured,color:i};if(e.flags&(p.KSIDE_CASTLE|p.QSIDE_CASTLE)){let t,s;e.flags&p.KSIDE_CASTLE?(t=e.to+1,s=e.to-1):(t=e.to-2,s=e.to+1),this._board[t]=this._board[s],delete this._board[s]}return e}pgn({newline:t="\n",maxWidth:e=0}={}){const s=[];let i=!1;for(const l in this._header)s.push("["+l+' "'+this._header[l]+'"]'+t),i=!0;i&&this._history.length&&s.push(t);const o=t=>{const e=this._comments[this.fen()];if(void 0!==e){t=`${t}${t.length>0?" ":""}{${e}}`}return t},r=[];for(;this._history.length>0;)r.push(this._undoMove());const n=[];let a="";for(0===r.length&&n.push(o(""));r.length>0;){a=o(a);const t=r.pop();if(!t)break;if(this._history.length||"b"!==t.color)"w"===t.color&&(a.length&&n.push(a),a=this._moveNumber+".");else{const t=`${this._moveNumber}. ...`;a=a?`${a} ${t}`:t}a=a+" "+this._moveToSan(t,this._moves({legal:!0})),this._makeMove(t)}if(a.length&&n.push(o(a)),void 0!==this._header.Result&&n.push(this._header.Result),0===e)return s.join("")+n.join(" ");const A=function(){return s.length>0&&" "===s[s.length-1]&&(s.pop(),!0)},h=function(i,o){for(const r of o.split(" "))if(r){if(i+r.length>e){for(;A();)i--;s.push(t),i=0}s.push(r),i+=r.length,s.push(" "),i++}return A()&&i--,i};let c=0;for(let l=0;l<n.length;l++)c+n[l].length>e&&n[l].includes("{")?c=h(c,n[l]):(c+n[l].length>e&&0!==l?(" "===s[s.length-1]&&s.pop(),s.push(t),c=0):0!==l&&(s.push(" "),c++),s.push(n[l]),c+=n[l].length);return s.join("")}header(...t){for(let e=0;e<t.length;e+=2)"string"==typeof t[e]&&"string"==typeof t[e+1]&&(this._header[t[e]]=t[e+1]);return this._header}setHeader(t,e){return this._header[t]=e,this._header}removeHeader(t){return t in this._header&&(delete this._header[t],!0)}getHeaders(){return this._header}loadPgn(t,{strict:e=!1,newlineChar:s="\r?\n"}={}){function i(t){return t.replace(/\\/g,"\\")}t=t.trim();const o=new RegExp("^(\\[((?:"+i(s)+")|.)*\\])((?:\\s*"+i(s)+"){2}|(?:\\s*"+i(s)+")*$)").exec(t),r=o&&o.length>=2?o[1]:"";this.reset();const n=function(t){const e={},o=t.split(new RegExp(i(s)));let r="",n="";for(let s=0;s<o.length;s++){const t=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;r=o[s].replace(t,"$1"),n=o[s].replace(t,"$2"),r.trim().length>0&&(e[r]=n)}return e}(r);let a="";for(const g in n)"fen"===g.toLowerCase()&&(a=n[g]),this.header(g,n[g]);if(e){if("1"===n.SetUp){if(!("FEN"in n))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(n.FEN,{preserveHeaders:!0})}}else a&&this.load(a,{preserveHeaders:!0});const A=function(t){return`{${function(t){return Array.from(t).map((function(t){return t.charCodeAt(0)<128?t.charCodeAt(0).toString(16):encodeURIComponent(t).replace(/%/g,"").toLowerCase()})).join("")}((t=t.replace(new RegExp(i(s),"g")," ")).slice(1,t.length-1))}}`},h=function(t){if(t.startsWith("{")&&t.endsWith("}"))return function(t){return 0==t.length?"":decodeURIComponent("%"+(t.match(/.{1,2}/g)||[]).join("%"))}(t.slice(1,t.length-1))};let c=t.replace(r,"").replace(new RegExp(`({[^}]*})+?|;([^${i(s)}]*)`,"g"),(function(t,e,s){return void 0!==e?A(e):" "+A(`{${s.slice(1)}}`)})).replace(new RegExp(i(s),"g")," ");const l=/(\([^()]+\))+?/g;for(;l.test(c);)c=c.replace(l,"");c=c.replace(/\d+\.(\.\.)?/g,""),c=c.replace(/\.\.\./g,""),c=c.replace(/\$\d+/g,"");let u=c.trim().split(new RegExp(/\s+/));u=u.filter((t=>""!==t));let d="";for(let g=0;g<u.length;g++){const t=h(u[g]);if(void 0!==t){this._comments[this.fen()]=t;continue}const s=this._moveFromSan(u[g],e);if(null==s){if(!(N.indexOf(u[g])>-1))throw new Error(`Invalid move in PGN: ${u[g]}`);d=u[g]}else d="",this._makeMove(s),this._incPositionCount(this.fen())}d&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",d)}_moveToSan(t,e){let s="";if(t.flags&p.KSIDE_CASTLE)s="O-O";else if(t.flags&p.QSIDE_CASTLE)s="O-O-O";else{if(t.piece!==n){const i=function(t,e){const s=t.from,i=t.to,o=t.piece;let r=0,n=0,a=0;for(let A=0,h=e.length;A<h;A++){const t=e[A].from,h=e[A].to;o===e[A].piece&&s!==t&&i===h&&(r++,I(s)===I(t)&&n++,D(s)===D(t)&&a++)}return r>0?n>0&&a>0?U(s):a>0?U(s).charAt(1):U(s).charAt(0):""}(t,e);s+=t.piece.toUpperCase()+i}t.flags&(p.CAPTURE|p.EP_CAPTURE)&&(t.piece===n&&(s+=U(t.from)[0]),s+="x"),s+=U(t.to),t.promotion&&(s+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?s+="#":s+="+"),this._undoMove(),s}_moveFromSan(t,e=!1){const s=y(t);let i,o,r,n,a,A=O(s),h=this._moves({legal:!0,piece:A});for(let l=0,u=h.length;l<u;l++)if(s===y(this._moveToSan(h[l],h)))return h[l];if(e)return null;let c=!1;if(o=s.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),o?(i=o[1],r=o[2],n=o[3],a=o[4],1==r.length&&(c=!0)):(o=s.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),o&&(i=o[1],r=o[2],n=o[3],a=o[4],1==r.length&&(c=!0))),A=O(s),h=this._moves({legal:!0,piece:i||A}),!n)return null;for(let l=0,u=h.length;l<u;l++)if(r){if(!(i&&i.toLowerCase()!=h[l].piece||m[r]!=h[l].from||m[n]!=h[l].to||a&&a.toLowerCase()!=h[l].promotion))return h[l];if(c){const t=U(h[l].from);if(!(i&&i.toLowerCase()!=h[l].piece||m[n]!=h[l].to||r!=t[0]&&r!=t[1]||a&&a.toLowerCase()!=h[l].promotion))return h[l]}}else if(s===y(this._moveToSan(h[l],h)).replace("x",""))return h[l];return null}ascii(){let t="   +------------------------+\n";for(let e=m.a8;e<=m.h1;e++){if(0===D(e)&&(t+=" "+"87654321"[I(e)]+" |"),this._board[e]){const s=this._board[e].type;t+=" "+(this._board[e].color===o?s.toUpperCase():s.toLowerCase())+" "}else t+=" . ";e+1&136&&(t+="|\n",e+=8)}return t+="   +------------------------+\n",t+="     a  b  c  d  e  f  g  h",t}perft(t){const e=this._moves({legal:!1});let s=0;const i=this._turn;for(let o=0,r=e.length;o<r;o++)this._makeMove(e[o]),this._isKingAttacked(i)||(t-1>0?s+=this.perft(t-1):s++),this._undoMove();return s}turn(){return this._turn}board(){const t=[];let e=[];for(let s=m.a8;s<=m.h1;s++)null==this._board[s]?e.push(null):e.push({square:U(s),type:this._board[s].type,color:this._board[s].color}),s+1&136&&(t.push(e),e=[],s+=8);return t}squareColor(t){if(t in m){const e=m[t];return(I(e)+D(e))%2==0?"light":"dark"}return null}history({verbose:t=!1}={}){const e=[],s=[];for(;this._history.length>0;)e.push(this._undoMove());for(;;){const i=e.pop();if(!i)break;t?s.push(new u(this,i)):s.push(this._moveToSan(i,this._moves())),this._makeMove(i)}return s}_getPositionCount(t){const e=L(t);return this._positionCount[e]||0}_incPositionCount(t){const e=L(t);void 0===this._positionCount[e]&&(this._positionCount[e]=0),this._positionCount[e]+=1}_decPositionCount(t){const e=L(t);1===this._positionCount[e]?delete this._positionCount[e]:this._positionCount[e]-=1}_pruneComments(){const t=[],e={},s=t=>{t in this._comments&&(e[t]=this._comments[t])};for(;this._history.length>0;)t.push(this._undoMove());for(s(this.fen());;){const e=t.pop();if(!e)break;this._makeMove(e),s(this.fen())}this._comments=e}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map((t=>({fen:t,comment:this._comments[t]})))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map((t=>{const e=this._comments[t];return delete this._comments[t],{fen:t,comment:e}}))}setCastlingRights(t,e){for(const i of[c,h])void 0!==e[i]&&(e[i]?this._castling[t]|=R[i]:this._castling[t]&=~R[i]);this._updateCastlingRights();const s=this.getCastlingRights(t);return!(void 0!==e[c]&&e[c]!==s[c]||void 0!==e[h]&&e[h]!==s[h])}getCastlingRights(t){return{[c]:0!=(this._castling[t]&R[c]),[h]:0!=(this._castling[t]&R[h])}}moveNumber(){return this._moveNumber}},T=B.board();console.log(T),console.log(f);const M={wp:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAARsSURBVGhDzZnfSxRRFMf3h+xqrrKYRCYFQVnKEiwkPkUPgdFTj4JkQi+F0Isv0T+gjz31P0hE+eZLD0WgUFRST6FZiPkDy1+su+3P+p71GPPj3N25szOjHzh+z8zO3HPP3Llzfxjyknw+3wP5azVQhB5/xsbG3iKJSyMjI+9xaEskEolUkEwLXQftxrnjR09PzybEVnmVcVJR+MeHjo6OLESscC1rbm4uzs/PP0RC53B8tKTT6Z8QsaJODexAj45kMpmDSBUjVmA7sDXYL9gyzHYtWVNTUxk/tcMPFgSNqPoEs8cqIt2XSCTy+Okk/OAYHh7+ALFVRgfF/R+hwZHJZK5CrJUgtlkdYS2DW+UsfP9BoPDQ0NAncg+N2WB1SsVYhqGsz1D/yeVyKYg1+A/6o0u5XKavlbWsl1DXRFjrEo/Hl9k10sSqRalUamPXiOO6SOjcLFWanqY2sVhMinuC1RUNPQXwh1ULfrWstLK6wnEi+/v7F9k1coFVi2g0mmTXSBerKxwngk/kNuZIJT6sEg6H2dPDeh86OgnNFoJhc3PzJsT0tSHTQXH/HLQhtPpIZ2dnAvMjGgdMOG0Z6bqD3EJb1YMgQeAuWlOQazUmVywWtwuFwg4pbAd+revvwz8aFhcX70JsFdM18Bt6dKACr2FZVcvUM4bmV64+356DisTa29upMmKFaxlwNStQ4XpApIpMTk4+Gx8ff8WntEDHL87Ozj5GOaf5VLBQAhMTE9Ojo6Pv6LBRo1ViNptNo9zLOA4O1TLXC6OHBPWfVCq1DhErcWhMka3AVnbyYeBr/KVWp2ZWYSXYQvXIDq3nKak1ep2kcsh82/dCoeEaGw4UdBf2jQ40oHuqy2OpXN5dicH3jqWlpTsQWzCGWqBhpPI5mYbWKCYGBwe/QkxBGHqqnmGNwXFWoI0jbYkytPHmOdZYWElSizfWKnNzc48gtsLBOv3xCyHed2hdlCN7b2+vbY3AgXwDs+Rddo3QpqA7KpVKsq+vbwOu9enQfq5v5HI5WoGaYtLOPX5ytz88NTX1FGIqkFGNEV5BndsUl2PTQFwT8dUaGBiYZdfIIszVZoMG3fl8Xnq9VlmViImgOTPsGulg9ZVoNCq9RnXX0mIiWJ7G2TUSyD800T/ZM2HavZEQEymVStL0QErOcxQbGS2sSsREtra2TrFrhAZH30Eie+waqbskFhNZWFiQOvUZVj8pJhIJaev0PKse+NzdltYPIEN//AJ9U4pJM+xp+O7A4HQFYi3Ub+iDYo35HFoX8dUiZmZm7rH7H+6Ifm7hSEvdW6zuwJPol1ZyfqKI9QJ+Y6CQ60ElY43BcRy3vvLVIvAqvcGn+Bof/kfxrXeNVN5BbqEv1QMH1EyEaGtrS7Br4jA4AkrTmbpgTlUdL2ok8QC/9VdPeAUKpmRMzW40Hcrl8i6SUO6iMDfga6H1jtDSE4sfcasGwQ91H+NBC6Y5BUwAafsnDKWxIIxz8dbWVuVUh8sYR0s8qZ5wTCj0D92Clew7pCPlAAAAAElFTkSuQmCC",wr:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPPSURBVGhD7ZnLaxNxEMeTbN6BGmjMoSC0KIIXH1ehnjzUs1B69hTov+GfItTizYMHixerXj3W0IBVgqlNwXTTpmmefidOarLO6k52f0kOfmAys4/fb3d+M7/XJvSfOSPMeoxOp3Ntc3Pz+fr6+pt4PN6KRCI9y7I6uVzuMJFINHBLGPfE+/1+uN1uJ6gMXe92u1Y4HO5Ho9F2vV7PouxFLBa7wLUu3Qvd7vV6g3tQZ5fK0XGr1UqibDSVSp3SeaqL6qVr6XT6JJvNliqVyr3l5eUXKNumcp4oFArvoPrzJsC7EwRa6AaUWNksBdjQIhHWYyCkcTbnjUE6Soh9xLbt+wsLC+/5cMDZ2Rlb5llbWwvt7u7y0W8oIugjV/jw35AjUJchhRMU1qmysbFBre9MrRNoETG1MILMPLW2trbEd3PD7WZqgVnyoFqtfmJ7FNc+IjqCEI6dz2QyoUaDpo9QqFarDSujobAFabLQiFKFfGd9yucoHYb6B6QGOYYcsk3n6PgbhMqE9vb2ni0tLd0k20GPtTfw0nehxvKTZHV19Y9z0xRATnvn/Pz8NpRY2SwF1KFFxNTC8iPF5rwhTheE6Mj29naBzXkjzdobCOFDiA0pQT5CPkNe0+KRLpsW0IO8hXyBfIUUIaeQl7jun52dnadQ4sODFPABWoXbPCKCYfE6m5fgoSRlyDHkAEKtSBEctibJ8BxFeJ+F7AOuxskd1mYoFotPoJyt16CfScHyhyYoZ50VaBWqiCwuLpbZHOWC9URgEzXYmDlQ16lyBLu+q2yOQrP7xGBdJ710krVnVI5g+yktJl3Hdi9gWS4tO9R1qhxB7koP8OUI6pTeIcraMypHksnkr5XjOKo6BKTyFmvPqF6CvoKwaZqZpFaM9aRIdao3dipHeInixFcfAVJ5sxExAUYttsYw64iJUQsEUqfKEfqsyaZpaKmiIojU8hsRCbMRcZm85oIg+og6DUygcmT4V4AD3SeaP5EawmwfcXHEL4H0Ma0jflvfGNrOa6I/TD+1TIABJJDGUTlC//2xGSTTj4iLI377zfQ7ezQapa/uTnxFCY0jvYPZiMARX19MJDASSu+gHua1qSU9QL0tHQV+SKnVYe0ZrSNSf/C1Q0SUA1n2qBwB0kN9RaTZbErfAQb/XGlQjRhHR0eP8vn8Kz68pAEoWrFYbJAStLik6QHnBtelqcKyrDD2N/1cLpe0bXvsayPur6Jsng+Dp1wuP4aitzIqQP2nviq1kAYZNk0jfQ/+KypHSqXSLTZNo+27ugIrKyv7bJpGOY+EQj8BdW9G7+ju2MQAAAAASUVORK5CYII=",wn:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAARnSURBVGhD7Zk7TFNRGMdp6QOwIOERByUskBBjookRHBxI0AXD6EwYYDHR0UFZjAlJYwgxLoRIcCFiQ5xkYwGV6ATEx2AwBhyABWgpLX3h/7v92rS357Tn3l6uNeGX/Pt959zHOefe8/jObdUZFYaDrSmSyeSF2dnZp52dnRuHh4f1fX19Uw6HY5MPVx4nJyeu9fX1+5OTk6/h91NeLBbr8Hg8CTqcK9AGW3mgYt6urq5dcklOpzO1uLj4dHBw8EsmL1cgBVt5rKysPIIpqLBMIAJrO062Utxud5xdJTBGatCYek5WDqjUNZfLlSRXVaCge0Wj0ctTU1MzmBS6oRurq6sPcN51PmwPQ0NDn2GElRaJxhEqqb1tGk8HBwe3enp6aDYTnVcN3x5Q2DMyRkRvkd6A6FiuQAzWPlBgEz1Bcq0UCMHay/T09CsYYYXMit7c+Pj4WzRoCGl7QGHShhCifCOamJh4g9s8hp8llUrV+3y+Y+Rf4Sxr4BsKK9Le3r6nz8ugzy+mQCDwor+//8fw8PCnlpaWcCYf1MBax+jo6AJMQQX0YnbZaojOUxWgZcA6cMMt2cBn9iGaWn9qqXyiEB0ztDaRwAGstTQ2NlIoIirMCNRg5QYBaZRRMkSRgUEo3AIgRCGjGtach5yo4B+IaprOFcDHvmsJAaYbMjIy8oFdEUbve4ltscaE8JCusm8NoVDoZokxsslWGexvaNwcNzU1HUnuuQ/fWgYGBr7BiAqLQXtpV87R0VE8Eokk4G6lc4rPZqDkHsdU12ptbRWFFbRbdEONWkqMNnbq6upctbW11eAiouIkjyspOO5AY+5w0jooooUpeGr0U4x4PG46VgNRWOvY2dm5K9qfqBAOhynSzbvOiEAXrDWI9hXMNlspiUQi7zq+NiUa4Hox2/DLBzdySt5GyQFOiLoW+ArRGEhCxWbCUfjWIPr8QwIlxwe6VUQ0ZQO6Zxak71Em0BqWdk8+8uHyaWhooMGWVwkSs8G2KJJrf8G3B7/fPw8jq4goMCwAawdN2frr895GOSitI83NzbKoMwh1pN3iSNYK0yGSHqUbBYPBc+xmwdMk49ESCuD8sr4zl0KpIV6vVxbNKu/Y0BBa9f8tvb29GzB5/ZtEfZx+VKDYSnB9yRjKUlDgczJ6AfoooIRkDbF266rC3NzcSxh9RYL0o4rgentnLWJhYaGb3VyO2ZrFsjei3JC1tbXsLi4DwvBmGENf63PB9W68FR8n7QEF+snoRd2DfhT4Lbne9IMwzfLy8hMYfUUO6UcFSfRLi2rZGFpZ5+fn+9jNRXl9wL68YHCje/nQGKXowDJQ4ENRBIsK7iOWCkMx2o+TaAtLUy6gp66BLa5wY0X3HBsbe4dT3iNtD0tLS7QvKKiMFQKmp2NDXYsIBAK32T0NTE/HhhuCLnOaMZN9b8Ttdp9mWOFiaxjDDcGW1cvuaWDfH6NtbW306VI4WMsVsC8aRmEzVGIONL/qZZYdLuaM/5yqqr9DiO8DeGpLdAAAAABJRU5ErkJggg==",wb:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAO4SURBVGhD3Zm/b9NAFMeTOk2iUBEkSIjSAamqShkYOlVigBaJpUtHloiFhX+ArYIBqbCxIVVdYOxCYaJDh65ISAwgoaSQKohUiBISFMgP5wd8X/ocxZdz2thOffCRnr/vknPynn1nP599/wt+Vtdpt9sTy8vLr5PJZCmTyZzP5/PRdDp91+/3P+Uu6tNoNC7Mzs5+g/un10AT+u+wvr5OR92UBBloQEfCGKurxGKxH+yKjOT/iJH8cL1eD7LbBWeD5Hmn8S+AgLV4PP6LXNHABFR9EGg4kUiUybUycAmqLs1mMzk/P/8ZrjQBw8bGxtpIZgq+miwtLX2ASIMXDfyGqsn29vYDiBiwqd3zeR6qHrquTy0sLHyC2w02EAhQwJXNzc3HvZ+T8fCKw1eLbDabgohJGNBN0JSIYWAa6gqu3EdCodCgMR/AGaPA+9A0LYNkYtx0hCuJjI+P19mVgqHEnhkUllS0vj1sOcOVRFAkhtm1Q4nVEa4kgpIkwq4UJFpjV0aU1RGuJLK3tzfDbgfcHGm4kdsmi0ajfbVXD4O+O1kwYa+SiAb0lZWVV7LvDAMHUHWYm5ujm5w02EEGqDZzjCtDi6hWq52xNAxIguRlp6EKCOoeyVHGNFhp2KkHArtMYmXME/jqg0CDVEuRaxiTh6l5BkRarVZibW3t2eTk5E80TWcjl8vdRCK34KtPJBLRIaYERAOnoWqC4PzicBpkwJW7uesMk4RhQJ2FiGKxeA3PHi24skCJguw7w8AVqPfIJjUZs8tKBWNfHzKgxhLq1tbWQ4gYHJFjNZAOPUDrX96C0n0mHA73PcaCA9qIoJSn5w5TX+5/FuodqVTqDUQMihYV9smRkBX78z7enpWdnZ37EDGoCm2sQGFJc0LcZx/qDbquTweDQVNQTJHVit3efch4aegi/JNndXX1BcQUEGjR5ihqtVrf5Rp8h5486XT6NkQM5lhg0vddwYDjlRRbD1YYVlV23SLEahtbiXBJYgscffZMnGG1ja1ESqXSOXaHBgeBPROOH7lt/UC5XJZVr9JDLaJpmuyVuOPX5LYSwQOUxq5bDL1wIWIrkY2NjRvs9nKso4rSRja/Bq5UjgxM2EckooEvtBkALXaL+xDv4HuD7FUboLv0QCT7fIU6xvbVolAonGK3ix9ALBesK5WK7PWD40uvI3Ak75CIBpq0sULWH+oti4uLHyFiYJZY9PX+xegRz+smLPq5Vuo4uqOiALzOronDqdKhMyd62l0Oc/O97zQc4/P9BTx0KzXRoJ/2AAAAAElFTkSuQmCC",wq:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPBSURBVGhD7Zk9aFNRFMdfbIwlpqVq1QwGhxS1DoJDIWTq0pJRB+mmgrgXnBSk4CCFDhWkDkKDg1Asks2hQ3ErOEnBoZZqpLFixdgSSU3z6f9/c2+4eSTNM6l5b3g/OO+ce+5N3jm5n+/FcHFxcXFxcXGpUqlUfH6/Pw99W7ossbGxcTMcDqdjsdgaPntVuu2hXC73+Xy+IkzEUtmvequkUqkbo6OjnyYnJ9+i7pp015iamnoDVaGAvHDaxczMzGsoEQwFnKafjIyMpKCUvyycEpSPAPqckQgCOEulCzgKbYyPj3/UfHWJAL09uSO8doIgTlCZxFhYWHimyoDDT1FrJzkvvE4AwZyj0iUYDP7Wy/l8fkjNJ4rkAmxnsbS09BiqFvhBIrkL23kgsIu9vb0Fmq0EfIF2LqaViOxDSpAiC6pO1gegnQWC8jRIoiB1HaqNbHeoyRyRum3m5uZeYnP00K7GanyFeGmYkfUKLgjcWE/Bf0t4OqDjRHK5nE+a5BeEq5gV0rygN396PJ4XSCYkvG3ScSLFYrFHmuS41A3BMqx3yYOVlZX70jaQzObW1tZ1JBSWru4yMTHxHkqN+5ZobX9A+EPWfFodTw3dBTflkNCDaIqpzUPYxvLy8iPlVwL000D3wI05pOoCxZDbwVDaxWTOsKzXgQhsI5FIPGmw4rGn7NtrcHM/1UEiuQJb0N/fn4PS6y6JCifg9XpLUM2SqDskRqNR/vKqvqPjfMerlplIJLIpzTqwKlF9FwXJ9vZ2nzSdRbPe0AUcgxbwMRlK+e19wFI0mLTrEE70JAuqTtaLkaAnDnjotA8E0NMgiYaoNlKMsbGxdVUG9iy5isXFxadQKpiWaG3zpVIpqJXZO/aQyWSioVBoFyYDIeLI3gq2pwwODmaVDexLJBAI8DWQCmSXl1agF0TiZgEdDa2Olt94PP5cmoQbYkswn/wQBm+mke//g6PHSbV8SsTqZJHakFIC7Fm1ZmdnX0GpIL7xYpVsNls7mmjfYc/OPjw8/Fma5IzUlsAuf+gTu+1Eksmk1SdBq7Bn2qbtRNLpdL80iThIWQXDqNEzvT2JrK6utv26E0cT8Y7YEeBX5cORmqj/RKFQ2FGf1b6DC4A9zM/Px6FUIJZ2dVDQz2ba5+v+Y+kq5mM4L63Y29vTjyXkA4Qv9N7BZw+4OXd2PShLaO3v8XscwfT0dALKcjJaWw4v54CAYlRKDsLUZg22s0BQfNtYF2gulxOvgfhKiFqvA5dhOxME5xkYGPhDs5lIhmAfMobxF5zRKkUddHn5AAAAAElFTkSuQmCC",wk:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPCSURBVGhD7Zk/bNNAFMabP42Shj9BygCKIALULnRigYmRoUgk6lRGJgakDrBVIDEgZelS0QUmGsRSVNhQpC6IDdoyABVS1YoMqDQqCNomcZImDt/nnCPHNMWxncRB+Ulf37uLffeez/bduQN9+vTp0+e/ZH5+/tH4+PjHsbGxL9VqNSaqe4/h4eEfMFUKVJTKXoQjAtN7iSwvL9/xer2VqampVCKReOV2u2VUK4lQq6urt+Lx+KfJyck3kUhkB8ld5HmOIxqN/oKpB/4vgRKsZdzC2sbIyMi2cI3iEdZZ4ApfgnLQO2hOe2sBGXoJfYBWoAL0UDnR6aytrd2EURP5qVT2Ggict43+mTgK2xvIshxKJpNP/H7/PooNiVALCwszSOgyfGejf+U2kxgxZ6J7uMl3aB+SoF1WqL8L2YJLWMsgPq/H4ynhtlLarMXbHJeroWvLcdg2j2D+2NIlIfGPEXD8inBNY1si5XJZ21YaCtTcg5EkKStcsiNs9wmFQhwB5b43iub4IqwzQDAPDnjQm6I77jZ854CAwjSqCJ6b3WKxWMnlckX4e6zTHbMO6zzS6fQNmIZgmwlw7RWF7zyMToYUj02lUgkkcxrl7oNAfNwJhsPhHIuqxBXfgDgpbkFfD0m0u5RKpXP64AQMPF1zG+ASn9ImoZ5n2wTdMrOzs89htAlsQkzCCFzW6xMyhaUrgEBcwWCwmM/nB+GL2paRsVypT6ZoJ4fyEVE0jOmZHR0OoUOZSYgqfvYxg7tSqdRndrQZRNtqm4YxnUg8Hn8vXCZFs6cUTIBn7LhuRH8LaxjTiUxMTLwVLuHb6mzNNQfWavVMMCpDSKz9O0l04vf5fOWaq7AurBW4iGQyikBLI2xqRBYXF+/jtavu7vhd6nzNtUQQzxsvjsqmsIYwlcjo6OiScIlt29VAIOAVLgkJawhTiWSz2RPCJQ1PqY20NDWYSiSTyUSES9qVSPs/TMRisc8w2gezyD9WwVK/oGnTlm/Ch4JO7mnXV4CLQ1sQ7ZEk+2o7B4xKWeneApq2+EW/M6CzazSqgOlRwRKFM7naDnkGv3NMT0+/gNEGYBpNO99gOws6fUqjiqj7ciNIktTw5VFwHX7nQcenaLQimKW5ecorhSbozwHH4JvClh0ZAhjEQu+v1yXebNVCobCLBSF/l1GuYI3GvYYH5dpBAOfTnERdRqnoJgjmCpTnP0JZNCLBNnQVZWeBoM5AS/p9vFYCfp2/i7IttG2zjyDZ9gb0GuJyIwjxe/AF6DFuoxlYmxgY+AOpsR2cli4e7QAAAABJRU5ErkJggg==",bp:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAMVSURBVGhDzZpNi1JRGMdHE69TIjJJNERBUBaDBEIhtKhFYLRqOTA0CW0CoUVuoi/gfIK+wxBDzc5NiyBQKCppF4pBVBSSyaDeRLP+J55N+fhyz9u9P/jzf87FOed57us5h1nRyXA4TMN+/y8wggefYrH4AkWc297efoXmVCHhcHiCYlbF7+AncCx4pNPpNmwq+Vmiog4hDg5ra2sDGJvwPMVisVG9Xr+Hgk6h7S/ZbPYzjE10WYEu3D+SyaQLY5Pzokgk8gvFJBDbBYOGvT4TixSPx4fo9yhie2xtbb2GsQmpCLyB26PX612EscmoiK7KScTmwUChzc3NtyI0IfAObh7XdTMwNgkdAk/h0oTJF+I4zkcKTbF0Lhxe/jhCborD5FIonQXNHCGXYulC+v3+WQpNsU4uxdKF4BX5A3OkMTW1ggddmJgt2KHdbl+HTb1xVAVqcCU8PSOpVCqO+dGEmlqgq9H527AJBl4XawoRqoq4i9gfms3mbRibnBeB73D/QALPoYHslSHE/Oon2v6DRKKJREIkwyY8T0DrB1b6gygS2dnZeVwqlZ7RIU+EQqFRtVp9iH6O0yG7iALK5fJ+oVB4KZqqEqvEwWCQRb/n0baHrmUuJ3GS4ObJZDJfYWwSi7TMi4F+YxbZh5qTuJ2440LG9r3QaUj3hsMi0e5KFLE+Wq3WLRg7oElRMUprlH/I5/PvYexgpgU+wdWR3RLVpWg0Ola+KrVa7QGMHcCmwAe4PN1u9wqM7dymwB5cjslkktzY2PiGkO3cpsTOPYqR2x/e3d19BGM79kNAfIjnwk4ac7lclcKg8IV8JmwhuJw9CoNCiHwmbCGj0cihMCgs3L1hCxmPx3qnB+qsks+ELaTT6RyjMCgsXBKzhTQajTMUWsdxHO42Ok3uDbzubura8lEVENP6fcRyuK57AcZ2blNgqS87e2sJKpXKHQr95ga5HDgTl+at5GyIeIJYDXRy1c9igL4NvIODg8swdiCTIsQ/6egBneWF2RShf3MbncaF2RBxDbE5xNITxiagQ8R9xB5ZWfkDc5yRoT5ubU0AAAAASUVORK5CYII=",br:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAKXSURBVGhD7Zo7juJAEIYxbxAYAwFkCAlyQkRAQEyE4CzchwMQwQWIkDgAKQkCAhMg1sbm4amerUHM2t5tT7cfWPtJpS5mGk/97q6qNkwkLAg4WmHgGCRs47X7RRBFfGEZcxTHVwIrYrPZ3NA1YSUksCwWiyu6Jt5KyPF4RM/MWwnJ5XLomaEWoqrqZ+7AxSxzSBCEp8VisUg2mzWIZTKZp6VSKSOZTBrxeNwgc8gYjX4Pgbwf5t3xJTXUQtbr9aeA8/lsWTUMw3ja/X6PKIoiEIMb8DRN0wRd14Xb7SaQOWR8PB54hd+Q98O8GL6khlpIvV5Hzz8gR2wrKrWQYrFIPdctYFXRM+N7cE4oFAq2nf2thFSr1XAIgYqHnhkrhYE9opAWAGXc8uZb/VCA+q5OJhO11+spzWbz0u/3FegftscD3pCAy+WyPhgMlNFo9KvT6SjT6fSSTqdnOIUJslKeWKVSucDoGpZ/lADd2BBFkXQ2yzlObT6fOxbCnOzD4fBOuvHpdLKtKE6ZzWa2x3U7mIUsl0tuAr7Ybrfo0cMsRJZl7kJqtZrjazIL+fP0yoO/9Qs7mKOAUo0eP0qlEnr0MAtJJBKk0nBFkqRwbC14sEKPHuYooHlxX5FGo+E4LmYh+XwePX7Aini/tdwAnvW9FwIHOfT4EZoV0TTNcd4xC/lJhfkXoVmRn8AsBLYBev7CLASO7+jxw5ccCQr/hbiJoijeb63QJLsb+JLssA3Q8xdmIeQ7DnS5cb1ew9HZZVn+/u0PBcxCRFHk/mC13++9z5F2u81diK7r3gtptVrcc2S1WnG/Oa+Qi3ti4/H4DKMjApns3W6X/4dlL1jePTdst9t5/yG2G0iS5DiuQAo5HA4O//MhEvkA6GtC/duuW/sAAAAASUVORK5CYII=",bn:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAASESURBVGhD7ZlNSBtBFMdNjCZoYjUKvfhxUZDSQ6BUe+hBsL1YPPYsCp4K7UXooc1FCqIUkdKLaMVeJDZIT/VUDyqtbU8ibXMQQ9Ei1UtNNM3m0/5fOgZ3drbZ3Wy2KfiDP+/tm83OTGZn5k1ScUGZYWPWEJlM5vLCwsJoR0fHzsnJiae3t3fGZrPtsuLy4/T01LG1tXVvenr6Jfw+iiWTyfbq6uo0FZ8XaIEtP9AwZ2dn5yG5JLvdnl1ZWRkdGBj4dBY7L5CFLT82NjYewigarCYQh7UcO7OqVFVVpZirCcwRFzrjYZflAxrlczgcGXK1CiheL0mSrszMzMxjUeiCrm9ubt7HfddYsTUMDg5+hBE2WiSaR2hkbrRpPkUikZvd3d20monuq4RvDajsCRk9olGkERCVnRdIwloHKvTSN0iumQLHsNYyNzf3AkbYIKOikZucnHyFDg3i2hpQmWpHCFFcj6ampgJ4zCP4ebLZrMftdicQv8pC5sAeKGxIW1vbTz5G8LFCCgaDz/r6+kLDw8Pvm5qaYmdx4II1D7/fvwyjaAAvoq6uLpcVnMHfo0eAtgHzwAP31CY+sb29fYSEMjsyMrLNl+NzEpWlUildexMJRGDNpb6+nlIRYYVa5XK5jvR0CKhmGQVTFDUwCVWPALFYTFNag93+ElIge2tr63c0kkXFsPKvuQszwWvzFkb2jZ0pkUgo0vtiBaKw5nJ8fHzjb3MkEAgo0pFCoudBCa/X+4svYxzBN5f+/v4vMIrK8EolQ6GQYgnmhQNZCq9Uurm5eU9UzguU5owzNDT0AUZWWTwep3khi/FCik95Vf6aRgE7u6bXENyGNRfKaGFkFdGSysd4oSOGczUgwZrHwcHBHdH5hOBjvJxOp2xE9Ap0wpqD6FxBrK6u/uDjvDAiihjIiiY4LwbVUTx4kF00GlomOEn0aoHPkA3KQKorIfDDNwfRzz8kLfOjpqYmLlqyAT0zD67vUhDkOvbHPX3HiosHyR9NNlkjSMT4+PiOqKyQGGH41jAxMbEEI2wI0m1FYiiSx+Ohk6AsBmSjUQyacq3GxkZh1hkOh6PLy8vt7NIIhnM9Hk0PikajtczNg2+zoqGhoZpdFgT3F/U7cyE0dQTrvzCbxbKp+cSWTqermPvv6OnpEU5mLKeas1xRKgJoFbMOVPiUDC9kwQlRXCSVPcTco6sWFhcXn8PIGrK7u0tnBFlMj4C1qxaB1amLuXkODw9pRIrB+hHx+Xz7MLJvlHZqvDKGE0H6PEbFDd86UOEEGV5aj7Wzs7PfRHGg628LU1hfX38MI2vI/v7+CR9Tk0r2a8pZXNfOurS01MvcPEg9NO8PbAmWUVlZ6UZniskO9IMKH4gyWHTmqLa2NkYHJ/qHi87kaGCGX3KRAQvnEz1zbGzsNZ7/BtfWsLa2RucCRWPMEDC8HOtO2oLB4C3mlgLDy7HujkiSVMqcyboRwRwo5SbmYFY3ujsSi8WczC0F1v0x2tLSQj9dCidrsQLWZcOobJ5qPAelGbyMcsCqueA/p6LiN2wiKJZw5UH8AAAAAElFTkSuQmCC",bb:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPuSURBVGhD3ZnNTxNBGMbpp6UFa6KtpRwMH0E8eOBE4kGLiRcuxJMX46WX/gPeiB5M0Js3E8JFOZhwET3JgQNXExJDNDFFhdRYY2pra6r0u/i8ZXbTnZ2tZXehg7/kyfPubCnv7M7OvjPt+19wMLedZrM5MDc39yYajRa2t7fPp9PpYDKZvOtwOJ6yj8hPrVa7MDk5mUG43y5Qh58clpaW6KprOkECNfiR4GRuK6FQ6CcLeY7k/xFH8sWVSsXLQhXcDbIXrYOTABJ2hcPh3xTyAgNw+UGivkgkUqTQSOASXF7q9Xp0enr6C0JhBxQ5nc4mOjOKWE5mZ2c/wITJ8wJ/4HKyvr7+AMYnrDlua0/D5aNarY7GYrHPCPmE91ZXVx/z7Wx4hRHLxc7Ozm2YJllieXk5haSr/DlFYBwuD6ijbsI0SWaz2ZISozON9nNt7XRnQogtY8sL0ePxVFioEgwG1ZcikhUWpygsqf3twZE1bOkIikQfC1VwtbutrAvMLWFLR1CS+FmoUi6X1Uo3EAjQMDMiyNwStnRkd3d3goUqSN6DtUcdamBWO8WaRejqsp6BZ+AqGS9QnZ+ffy06pwj8gMvD1NQUveSEyXYSoNrMMraV8aVSycPCrkEnyF61DmQBSd0j+5cYNeY07OQDiV0mMxLjCWL5QaJeemNTqIiRhuS8AzyNRiOyuLj4bHh4+BcONXcjlUrdQkfuIJYfv99vWCAqAqfhcoLkHPxw6iRgy9vcdg7TCUVAno2IfD5/ze12C0t0YmtrKyc6pwhcgfce0UNNIhKJxEeKcbfK/HlFQI4t1LW1tYcwPrn9sbGxFNcuHHqA9r96C0r3CZ/PR3u5muQ2NzepCNS0kQYHB2ndoWsHZ+GWMV1rxePx51hzuNlhC8oql8sJN6pHRkaM9oPp7vWOjY2N+zDN1c1kMnt8W7uwJKZnQtMGvsF7AxZK416vV5MUkUwm8+1tvGKxWGsCaBdN3fjTi4iPn4WFhZcwTUJYtwunYV6i6Rpk4ccPrnwcxiejOTYSlr66GQxY3kkx9bBjWHXaTDBDpzV9V5jqCCtJTIE7wiINZ5ibxlRHCoXCORYemoMRqMPyktvUFxSLRV312mw2hRnyoCOiW9LtZp4hpjqCBZSLhXZx6I0LHlMdWVlZucFCFTw3XV1Vl8sler50O5XHAobHIzJeQ0NDX0XtitBZ2uzWtDHeIe4Nop/aMOTMLLC+wy1jerZAcRhgoQqGjQOi9YeQ/v5+3c8PwPLUawlcyQQZL5T3usKwk0DvF1czMzOfYMIEuxGj9z+MGq3XuxWwrdSx9EZFxXudhULYLCUEnSB73zqwTF/fX4KXGcjmN3GeAAAAAElFTkSuQmCC",bq:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPOSURBVGhD7Zk9aFNRFMdfmpi0MSlVq2ZIcEhR6yA4FEKmLC0ZdZBuRhD3gpOCFByk0KFCWweh4iLFItkcMhS3gpMUMtS2WklasWK0JASTl6Txf27vfdx89jUpeW94P/j3nHduwjsn9/O9KhYWFhYWFhYWR1SrVafb7VZh7/OQLra3t+8Fg8FMNBrdwHdv8bAxHB4eep1OZxkucqkWj6JHpNPpu5FI5OvU1NRHtN3mYY3p6ekPMFUSUFnQKGZnZ9/DsGRI4CLFibGxsTSMiB+yIAfXfYBi5igECVwmIwucgVUmJia+SLGaQoD8eeIBixoJkjhHpk7K8vLyS3ENaPgJtM9xrrCoGUAyfjKyfD5fTr5WVXVEzCcS5yp8c5FIJJ7DaIm3E+chfPOBxK719/eXyD1O4Dusealbiaq5XK5YKpUqxWJRG1JSuwfWXCApW30RNpvt2N4B5ipmYWHhLYxIrur3+7U9pJ0IWNpYL8CNkd8Nfdx2TKFQcHJXSSaTf3Z3d2kV00OG/qA3f6MH36CYAIt2SNeFlMtlO3eVQCBwlrtNQdKsFzhP1tbWHnNfQTGpvb29OygoyEO9ZXJy8jNMzbDRI/ALoh+yWRudGnoLbkpDoiGZduI8ha+srq4+k9tIQD4N9A7cmIZUTTIej+ev1+s9cLlcWTnOCcFX4vH4i/oVD1BPGbfX4OZuMu3EuQmfMTg4WICR266zBjPgcDgqMK2KqDkkhsNh+uVFe1fH+a5XrXpCoVCKuzVgVSLzk11w9vf3vdw1F616QxZwwTLoMRlGxI19wBLUT9pYLLaZSqWyi4uLOyIutbORIBcO6FhjHEjAXl+E8I+RMj4+vimugTFLrmBlZWUeRiQjJ9pWQK1UKj7pmnrHGLLZbBjHkgO4lAidehuO7O00PDycF76hhWDTo9dALJGtrS1W0HHCBG/6OWDc0JKHVT6f11agdkKvqfKcEgLGTHY8R5wXyycxPz/fsDq1ElYrbUgJGVbI3NzcOxiWRCKR+CF8PRoYGNCOJkLAmJ19dHT0G3eVSCRyibu6sNvtpz6xOy5kZ2dH75NgA/j1uVdD06BeOi4kk8kMcpd2dXaQ0gv2Dwd3ZYwpZH19vePXnaqqsnfEpgDDgx6OtMl6EtFDV30M0AJgDEtLS69hWCLNXsQ1E/aRUot9pOZ/LD1FPobr3RDRG/KxhEhCJegTYsaAm78i04k4j+Cbg5mZmThM02TbCdDwMg9IKErmJOJswDcXSIreNtYk6/V62WsgeiUkxzk34JsTJGcbGhr6R24rcUbgnzKK8h+VNIud85KYIwAAAABJRU5ErkJggg==",bk:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAOwSURBVGhD7Zk9aBNhGMebmKT5lFgyKEEDQttBSsHFTo4OFUzo5ujkIHTQrTg4RLJ0KbaCThqRQqW6SdpSsKO1FaoWsVgNRdKERrRN0jRpkuv/Od8Ld9evu+YuuUh+8Of/vtck7/Pcvfd+ta1FixYtWvyXTExMPBoYGPjU39//leO4ILvcfHR2dqZhHAmU+YvNCD0RWPMlsrCwcNdisZSHhoZikUjkjdlsruAynwhpeXn5digU+jw4OPjO7/dvIrnL9D3DEQgE/sCqgR8nUITXjJm5ZnR1dW2wolJOMTcWuMNXoBz0Hnou7lqgAr2GPkKL0A4U5r9odFZWVm7BhER+8xebDQRO3Ub+TnjgzUGlUvFGo9Gndrt9F1VJIqTJyckRJNSHsrGRD7mHiT0xYyJ7ubmZmZn1fD6/m06n82tra1vC30QyFojZIk9CKCuQcZCtqTjM7ttC/TiBRXhNaDYhlkql6m/19PTEUXew6oF4PJ4sKxKbzBuP1+vNww6848cJFODGAME8UDpaicW4g7JxQEA+MrHa29u3kGAZc0rBZrNl5H8H3+HGIx6P34RJgj1MgNZeAZSNh5ruRZ+NxWIRJHMe9caDQGy0E/T5fDmqCqI7Hg6HV2dnZ9fn5uaSY2NjP49ItLEUi8WL8uAICry7uzsuvk7C/JJLJpOShAUBE7wxjI6OvoQJgXBTU1OJjo6OpHDtKC0tLdGyXn69/tAddDqdtFXlkyBXK5PJRAcS1ToQT5T6gwadZILm5+dpi1utqxFuxl9xHVjh9SEYDH6BCQ1zvb29P4R6rQL0DtWH8fHxxzC+4UQiQd1hX0BqhC4mHzD030miETtm6dK/IrZ6fX00O0sCUyur1Sq5GYBWAfoyPT39EMY3mMlkaMFXDaAWIZnq1hh8g+sLulIIxjdYKBT4J6O1QAqumBPtR7LZ7BlWpIMGalgPVE2OJ0oklUr5WVHPRPQ/mBAPvSQsUTR5TxwOx45QBpqcCR8JGrkvXl+Vy2XFK14lYkRR1h/5U8E8oNlLD+hEvz6gsetkgmp5KuhS1SUK4wXK9WN4ePgVbF9gtQj8gtcXNPqMTKyD9uWHyePxSE4eGTdQrj9o+ByZXG63O6fykI44jfKJ0GRHhgCseNn3DZcY2TiXy7WFucbKRrkyJlM3Pi+ZI1AnO4vfUDWb6wKCuQpt0z9CqapEjA3oGurGAkFdgD7I9/FiMfLQPdQ1QbfNPoKk316F3kLUlVwQnQdfgp6gG43ANaKtbQ+tn7vxouBwtgAAAABJRU5ErkJggg=="};var x=()=>{const{0:t,1:e}=(0,i.useState)(T),{0:s,1:o}=(0,i.useState)(null),{0:r,1:n}=(0,i.useState)([]),a=t=>{console.log("move",t);try{B.move(t),e(B.board())}catch(s){console.log("err",s),n([]),A(),h()}},A=()=>{document.querySelectorAll(".highlight").forEach((t=>{t.classList.remove("highlight")}))},h=()=>{A();document.querySelectorAll(".selected").forEach((t=>{t.classList.remove("selected")})),o(null),n([])},c=t=>{if(t)if(n([]),A(),h(),console.log("square",t),s){const e=B.get(t);console.log("targetSquare",e),e?e.color===B.turn()?(n([]),A(),h()):(n([]),A(),h(),a({from:null==s?void 0:s.dataset.square,to:t})):(o(null),a({from:null==s?void 0:s.dataset.square,to:t}))}else(t=>{A();const e=document.querySelectorAll(".selected"),s=document.querySelector(`[data-square="${t}"]`);if(s.classList.contains("selected"))return s.classList.remove("selected"),void o(null);e.forEach((t=>{null==t||t.classList.remove("selected")})),s.classList.add("selected"),o(s);const i=B.moves({square:t});n(i),console.log("moves",i),i.forEach((t=>{const e=t.includes("O-O");if(e){console.log("isCastle",e);const s=t.includes("O-O-O"),i=B.turn();let o="w"===i?"g1":"g8";s&&(o="w"===i?"c1":"c8");const r=document.querySelector(`[data-square="${o}"]`);null==r||r.classList.add("highlight")}else{const e=t.includes("+")?t.slice(0,t.length-1):t,s=e.slice(e.length-2),i=document.querySelector(`[data-square="${s}"]`);null==i||i.classList.add("highlight")}}))})(t)};return i.createElement("div",{className:"boardComponent"},i.createElement("div",{className:"boardContainer"},i.createElement("div",{className:"boardStyle"},t.map(((t,e)=>i.createElement("div",{key:e,className:"rowStyle"},t.map(((t,s)=>{const o=8*e+s;return i.createElement("div",{key:s,"data-square":f[o],className:"cellStyle",onClick:()=>{c(f[o])}},(null==t?void 0:t.type)&&(t=>{const e=`${t.color}${t.type}`;return i.createElement("img",{src:M[e],alt:e})})({type:t.type,color:t.color}))})),i.createElement("div",{className:"coordinateLabel rankLabel"},8-e)))),i.createElement("div",{className:"rowStyle fileLabels"},["a","b","c","d","e","f","g","h"].map(((t,e)=>i.createElement("div",{key:e,className:"coordinateLabel fileLabel"},t))))),i.createElement("button",{onClick:()=>{a("e4")}},"Move"),i.createElement("button",{onClick:()=>{B.undo(),e(B.board())}},"Undo")),i.createElement("div",{className:"infoContainer"},i.createElement("p",{className:"selectedCell"},"Selected: ",null==s?void 0:s.dataset.square),i.createElement("div",{className:"legalMoves"},i.createElement("p",null,"Legal Moves:"),r.map(((t,e)=>i.createElement("span",{key:e},t," "))))))};var F=()=>i.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},i.createElement("h1",null,"Quick Chess"),i.createElement(x,null));const K=()=>i.createElement("title",null,"quick-chess")}}]);
//# sourceMappingURL=component---src-pages-index-js-a1f8a0058ef812835b4e.js.map