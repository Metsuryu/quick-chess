{"version":3,"file":"component---src-pages-index-js-a1f8a0058ef812835b4e.js","mappings":"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EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAChD,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAChD,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG1CC,EAAO,CACT,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAChD,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAChD,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAChD,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAChD,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAChD,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAChD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAChD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EACpD,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,IAAK,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACnD,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EACnD,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EACnD,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,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","sources":["webpack://quick-chess/./node_modules/chess.js/dist/esm/chess.js","webpack://quick-chess/./src/components/chess-board.js","webpack://quick-chess/./src/images/wp.png","webpack://quick-chess/./src/images/wr.png","webpack://quick-chess/./src/images/wn.png","webpack://quick-chess/./src/images/wb.png","webpack://quick-chess/./src/images/wq.png","webpack://quick-chess/./src/images/wk.png","webpack://quick-chess/./src/images/bp.png","webpack://quick-chess/./src/images/br.png","webpack://quick-chess/./src/images/bn.png","webpack://quick-chess/./src/images/bb.png","webpack://quick-chess/./src/images/bq.png","webpack://quick-chess/./src/images/bk.png","webpack://quick-chess/./src/pages/index.js"],"sourcesContent":["/**\n * @license\n * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice,\n *    this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\nexport const WHITE = 'w';\nexport const BLACK = 'b';\nexport const PAWN = 'p';\nexport const KNIGHT = 'n';\nexport const BISHOP = 'b';\nexport const ROOK = 'r';\nexport const QUEEN = 'q';\nexport const KING = 'k';\nexport const DEFAULT_POSITION = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1';\nexport class Move {\n    color;\n    from;\n    to;\n    piece;\n    captured;\n    promotion;\n    /**\n     * @deprecated This field is deprecated and will be removed in version 2.0.0.\n     * Please use move descriptor functions instead: `isCapture`, `isPromotion`,\n     * `isEnPassant`, `isKingsideCastle`, `isQueensideCastle`, `isCastle`, and\n     * `isBigPawn`\n     */\n    flags;\n    san;\n    lan;\n    before;\n    after;\n    constructor(chess, internal) {\n        const { color, piece, from, to, flags, captured, promotion } = internal;\n        const fromAlgebraic = algebraic(from);\n        const toAlgebraic = algebraic(to);\n        this.color = color;\n        this.piece = piece;\n        this.from = fromAlgebraic;\n        this.to = toAlgebraic;\n        /*\n         * HACK: The chess['_method']() calls below invoke private methods in the\n         * Chess class to generate SAN and FEN. It's a bit of a hack, but makes the\n         * code cleaner elsewhere.\n         */\n        this.san = chess['_moveToSan'](internal, chess['_moves']({ legal: true }));\n        this.lan = fromAlgebraic + toAlgebraic;\n        this.before = chess.fen();\n        // Generate the FEN for the 'after' key\n        chess['_makeMove'](internal);\n        this.after = chess.fen();\n        chess['_undoMove']();\n        // Build the text representation of the move flags\n        this.flags = '';\n        for (const flag in BITS) {\n            if (BITS[flag] & flags) {\n                this.flags += FLAGS[flag];\n            }\n        }\n        if (captured) {\n            this.captured = captured;\n        }\n        if (promotion) {\n            this.promotion = promotion;\n            this.lan += promotion;\n        }\n    }\n    isCapture() {\n        return this.flags.indexOf(FLAGS['CAPTURE']) > -1;\n    }\n    isPromotion() {\n        return this.flags.indexOf(FLAGS['PROMOTION']) > -1;\n    }\n    isEnPassant() {\n        return this.flags.indexOf(FLAGS['EP_CAPTURE']) > -1;\n    }\n    isKingsideCastle() {\n        return this.flags.indexOf(FLAGS['KSIDE_CASTLE']) > -1;\n    }\n    isQueensideCastle() {\n        return this.flags.indexOf(FLAGS['QSIDE_CASTLE']) > -1;\n    }\n    isBigPawn() {\n        return this.flags.indexOf(FLAGS['BIG_PAWN']) > -1;\n    }\n}\nconst EMPTY = -1;\nconst FLAGS = {\n    NORMAL: 'n',\n    CAPTURE: 'c',\n    BIG_PAWN: 'b',\n    EP_CAPTURE: 'e',\n    PROMOTION: 'p',\n    KSIDE_CASTLE: 'k',\n    QSIDE_CASTLE: 'q',\n};\n// prettier-ignore\nexport const SQUARES = [\n    'a8', 'b8', 'c8', 'd8', 'e8', 'f8', 'g8', 'h8',\n    'a7', 'b7', 'c7', 'd7', 'e7', 'f7', 'g7', 'h7',\n    'a6', 'b6', 'c6', 'd6', 'e6', 'f6', 'g6', 'h6',\n    'a5', 'b5', 'c5', 'd5', 'e5', 'f5', 'g5', 'h5',\n    'a4', 'b4', 'c4', 'd4', 'e4', 'f4', 'g4', 'h4',\n    'a3', 'b3', 'c3', 'd3', 'e3', 'f3', 'g3', 'h3',\n    'a2', 'b2', 'c2', 'd2', 'e2', 'f2', 'g2', 'h2',\n    'a1', 'b1', 'c1', 'd1', 'e1', 'f1', 'g1', 'h1'\n];\nconst BITS = {\n    NORMAL: 1,\n    CAPTURE: 2,\n    BIG_PAWN: 4,\n    EP_CAPTURE: 8,\n    PROMOTION: 16,\n    KSIDE_CASTLE: 32,\n    QSIDE_CASTLE: 64,\n};\n/*\n * NOTES ABOUT 0x88 MOVE GENERATION ALGORITHM\n * ----------------------------------------------------------------------------\n * From https://github.com/jhlywa/chess.js/issues/230\n *\n * A lot of people are confused when they first see the internal representation\n * of chess.js. It uses the 0x88 Move Generation Algorithm which internally\n * stores the board as an 8x16 array. This is purely for efficiency but has a\n * couple of interesting benefits:\n *\n * 1. 0x88 offers a very inexpensive \"off the board\" check. Bitwise AND (&) any\n *    square with 0x88, if the result is non-zero then the square is off the\n *    board. For example, assuming a knight square A8 (0 in 0x88 notation),\n *    there are 8 possible directions in which the knight can move. These\n *    directions are relative to the 8x16 board and are stored in the\n *    PIECE_OFFSETS map. One possible move is A8 - 18 (up one square, and two\n *    squares to the left - which is off the board). 0 - 18 = -18 & 0x88 = 0x88\n *    (because of two-complement representation of -18). The non-zero result\n *    means the square is off the board and the move is illegal. Take the\n *    opposite move (from A8 to C7), 0 + 18 = 18 & 0x88 = 0. A result of zero\n *    means the square is on the board.\n *\n * 2. The relative distance (or difference) between two squares on a 8x16 board\n *    is unique and can be used to inexpensively determine if a piece on a\n *    square can attack any other arbitrary square. For example, let's see if a\n *    pawn on E7 can attack E2. The difference between E7 (20) - E2 (100) is\n *    -80. We add 119 to make the ATTACKS array index non-negative (because the\n *    worst case difference is A8 - H1 = -119). The ATTACKS array contains a\n *    bitmask of pieces that can attack from that distance and direction.\n *    ATTACKS[-80 + 119=39] gives us 24 or 0b11000 in binary. Look at the\n *    PIECE_MASKS map to determine the mask for a given piece type. In our pawn\n *    example, we would check to see if 24 & 0x1 is non-zero, which it is\n *    not. So, naturally, a pawn on E7 can't attack a piece on E2. However, a\n *    rook can since 24 & 0x8 is non-zero. The only thing left to check is that\n *    there are no blocking pieces between E7 and E2. That's where the RAYS\n *    array comes in. It provides an offset (in this case 16) to add to E7 (20)\n *    to check for blocking pieces. E7 (20) + 16 = E6 (36) + 16 = E5 (52) etc.\n */\n// prettier-ignore\n// eslint-disable-next-line\nconst Ox88 = {\n    a8: 0, b8: 1, c8: 2, d8: 3, e8: 4, f8: 5, g8: 6, h8: 7,\n    a7: 16, b7: 17, c7: 18, d7: 19, e7: 20, f7: 21, g7: 22, h7: 23,\n    a6: 32, b6: 33, c6: 34, d6: 35, e6: 36, f6: 37, g6: 38, h6: 39,\n    a5: 48, b5: 49, c5: 50, d5: 51, e5: 52, f5: 53, g5: 54, h5: 55,\n    a4: 64, b4: 65, c4: 66, d4: 67, e4: 68, f4: 69, g4: 70, h4: 71,\n    a3: 80, b3: 81, c3: 82, d3: 83, e3: 84, f3: 85, g3: 86, h3: 87,\n    a2: 96, b2: 97, c2: 98, d2: 99, e2: 100, f2: 101, g2: 102, h2: 103,\n    a1: 112, b1: 113, c1: 114, d1: 115, e1: 116, f1: 117, g1: 118, h1: 119\n};\nconst PAWN_OFFSETS = {\n    b: [16, 32, 17, 15],\n    w: [-16, -32, -17, -15],\n};\nconst PIECE_OFFSETS = {\n    n: [-18, -33, -31, -14, 18, 33, 31, 14],\n    b: [-17, -15, 17, 15],\n    r: [-16, 1, 16, -1],\n    q: [-17, -16, -15, 1, 17, 16, 15, -1],\n    k: [-17, -16, -15, 1, 17, 16, 15, -1],\n};\n// prettier-ignore\nconst ATTACKS = [\n    20, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 0, 20, 0,\n    0, 20, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 20, 0, 0,\n    0, 0, 20, 0, 0, 0, 0, 24, 0, 0, 0, 0, 20, 0, 0, 0,\n    0, 0, 0, 20, 0, 0, 0, 24, 0, 0, 0, 20, 0, 0, 0, 0,\n    0, 0, 0, 0, 20, 0, 0, 24, 0, 0, 20, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 20, 2, 24, 2, 20, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 2, 53, 56, 53, 2, 0, 0, 0, 0, 0, 0,\n    24, 24, 24, 24, 24, 24, 56, 0, 56, 24, 24, 24, 24, 24, 24, 0,\n    0, 0, 0, 0, 0, 2, 53, 56, 53, 2, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 20, 2, 24, 2, 20, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 20, 0, 0, 24, 0, 0, 20, 0, 0, 0, 0, 0,\n    0, 0, 0, 20, 0, 0, 0, 24, 0, 0, 0, 20, 0, 0, 0, 0,\n    0, 0, 20, 0, 0, 0, 0, 24, 0, 0, 0, 0, 20, 0, 0, 0,\n    0, 20, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 20, 0, 0,\n    20, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 0, 0, 20\n];\n// prettier-ignore\nconst RAYS = [\n    17, 0, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 0, 15, 0,\n    0, 17, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 15, 0, 0,\n    0, 0, 17, 0, 0, 0, 0, 16, 0, 0, 0, 0, 15, 0, 0, 0,\n    0, 0, 0, 17, 0, 0, 0, 16, 0, 0, 0, 15, 0, 0, 0, 0,\n    0, 0, 0, 0, 17, 0, 0, 16, 0, 0, 15, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 17, 0, 16, 0, 15, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 17, 16, 15, 0, 0, 0, 0, 0, 0, 0,\n    1, 1, 1, 1, 1, 1, 1, 0, -1, -1, -1, -1, -1, -1, -1, 0,\n    0, 0, 0, 0, 0, 0, -15, -16, -17, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, -15, 0, -16, 0, -17, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, -15, 0, 0, -16, 0, 0, -17, 0, 0, 0, 0, 0,\n    0, 0, 0, -15, 0, 0, 0, -16, 0, 0, 0, -17, 0, 0, 0, 0,\n    0, 0, -15, 0, 0, 0, 0, -16, 0, 0, 0, 0, -17, 0, 0, 0,\n    0, -15, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, -17, 0, 0,\n    -15, 0, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, 0, -17\n];\nconst PIECE_MASKS = { p: 0x1, n: 0x2, b: 0x4, r: 0x8, q: 0x10, k: 0x20 };\nconst SYMBOLS = 'pnbrqkPNBRQK';\nconst PROMOTIONS = [KNIGHT, BISHOP, ROOK, QUEEN];\nconst RANK_1 = 7;\nconst RANK_2 = 6;\n/*\n * const RANK_3 = 5\n * const RANK_4 = 4\n * const RANK_5 = 3\n * const RANK_6 = 2\n */\nconst RANK_7 = 1;\nconst RANK_8 = 0;\nconst SIDES = {\n    [KING]: BITS.KSIDE_CASTLE,\n    [QUEEN]: BITS.QSIDE_CASTLE,\n};\nconst ROOKS = {\n    w: [\n        { square: Ox88.a1, flag: BITS.QSIDE_CASTLE },\n        { square: Ox88.h1, flag: BITS.KSIDE_CASTLE },\n    ],\n    b: [\n        { square: Ox88.a8, flag: BITS.QSIDE_CASTLE },\n        { square: Ox88.h8, flag: BITS.KSIDE_CASTLE },\n    ],\n};\nconst SECOND_RANK = { b: RANK_7, w: RANK_2 };\nconst TERMINATION_MARKERS = ['1-0', '0-1', '1/2-1/2', '*'];\n// Extracts the zero-based rank of an 0x88 square.\nfunction rank(square) {\n    return square >> 4;\n}\n// Extracts the zero-based file of an 0x88 square.\nfunction file(square) {\n    return square & 0xf;\n}\nfunction isDigit(c) {\n    return '0123456789'.indexOf(c) !== -1;\n}\n// Converts a 0x88 square to algebraic notation.\nfunction algebraic(square) {\n    const f = file(square);\n    const r = rank(square);\n    return ('abcdefgh'.substring(f, f + 1) +\n        '87654321'.substring(r, r + 1));\n}\nfunction swapColor(color) {\n    return color === WHITE ? BLACK : WHITE;\n}\nexport function validateFen(fen) {\n    // 1st criterion: 6 space-seperated fields?\n    const tokens = fen.split(/\\s+/);\n    if (tokens.length !== 6) {\n        return {\n            ok: false,\n            error: 'Invalid FEN: must contain six space-delimited fields',\n        };\n    }\n    // 2nd criterion: move number field is a integer value > 0?\n    const moveNumber = parseInt(tokens[5], 10);\n    if (isNaN(moveNumber) || moveNumber <= 0) {\n        return {\n            ok: false,\n            error: 'Invalid FEN: move number must be a positive integer',\n        };\n    }\n    // 3rd criterion: half move counter is an integer >= 0?\n    const halfMoves = parseInt(tokens[4], 10);\n    if (isNaN(halfMoves) || halfMoves < 0) {\n        return {\n            ok: false,\n            error: 'Invalid FEN: half move counter number must be a non-negative integer',\n        };\n    }\n    // 4th criterion: 4th field is a valid e.p.-string?\n    if (!/^(-|[abcdefgh][36])$/.test(tokens[3])) {\n        return { ok: false, error: 'Invalid FEN: en-passant square is invalid' };\n    }\n    // 5th criterion: 3th field is a valid castle-string?\n    if (/[^kKqQ-]/.test(tokens[2])) {\n        return { ok: false, error: 'Invalid FEN: castling availability is invalid' };\n    }\n    // 6th criterion: 2nd field is \"w\" (white) or \"b\" (black)?\n    if (!/^(w|b)$/.test(tokens[1])) {\n        return { ok: false, error: 'Invalid FEN: side-to-move is invalid' };\n    }\n    // 7th criterion: 1st field contains 8 rows?\n    const rows = tokens[0].split('/');\n    if (rows.length !== 8) {\n        return {\n            ok: false,\n            error: \"Invalid FEN: piece data does not contain 8 '/'-delimited rows\",\n        };\n    }\n    // 8th criterion: every row is valid?\n    for (let i = 0; i < rows.length; i++) {\n        // check for right sum of fields AND not two numbers in succession\n        let sumFields = 0;\n        let previousWasNumber = false;\n        for (let k = 0; k < rows[i].length; k++) {\n            if (isDigit(rows[i][k])) {\n                if (previousWasNumber) {\n                    return {\n                        ok: false,\n                        error: 'Invalid FEN: piece data is invalid (consecutive number)',\n                    };\n                }\n                sumFields += parseInt(rows[i][k], 10);\n                previousWasNumber = true;\n            }\n            else {\n                if (!/^[prnbqkPRNBQK]$/.test(rows[i][k])) {\n                    return {\n                        ok: false,\n                        error: 'Invalid FEN: piece data is invalid (invalid piece)',\n                    };\n                }\n                sumFields += 1;\n                previousWasNumber = false;\n            }\n        }\n        if (sumFields !== 8) {\n            return {\n                ok: false,\n                error: 'Invalid FEN: piece data is invalid (too many squares in rank)',\n            };\n        }\n    }\n    // 9th criterion: is en-passant square legal?\n    if ((tokens[3][1] == '3' && tokens[1] == 'w') ||\n        (tokens[3][1] == '6' && tokens[1] == 'b')) {\n        return { ok: false, error: 'Invalid FEN: illegal en-passant square' };\n    }\n    // 10th criterion: does chess position contain exact two kings?\n    const kings = [\n        { color: 'white', regex: /K/g },\n        { color: 'black', regex: /k/g },\n    ];\n    for (const { color, regex } of kings) {\n        if (!regex.test(tokens[0])) {\n            return { ok: false, error: `Invalid FEN: missing ${color} king` };\n        }\n        if ((tokens[0].match(regex) || []).length > 1) {\n            return { ok: false, error: `Invalid FEN: too many ${color} kings` };\n        }\n    }\n    // 11th criterion: are any pawns on the first or eighth rows?\n    if (Array.from(rows[0] + rows[7]).some((char) => char.toUpperCase() === 'P')) {\n        return {\n            ok: false,\n            error: 'Invalid FEN: some pawns are on the edge rows',\n        };\n    }\n    return { ok: true };\n}\n// this function is used to uniquely identify ambiguous moves\nfunction getDisambiguator(move, moves) {\n    const from = move.from;\n    const to = move.to;\n    const piece = move.piece;\n    let ambiguities = 0;\n    let sameRank = 0;\n    let sameFile = 0;\n    for (let i = 0, len = moves.length; i < len; i++) {\n        const ambigFrom = moves[i].from;\n        const ambigTo = moves[i].to;\n        const ambigPiece = moves[i].piece;\n        /*\n         * if a move of the same piece type ends on the same to square, we'll need\n         * to add a disambiguator to the algebraic notation\n         */\n        if (piece === ambigPiece && from !== ambigFrom && to === ambigTo) {\n            ambiguities++;\n            if (rank(from) === rank(ambigFrom)) {\n                sameRank++;\n            }\n            if (file(from) === file(ambigFrom)) {\n                sameFile++;\n            }\n        }\n    }\n    if (ambiguities > 0) {\n        if (sameRank > 0 && sameFile > 0) {\n            /*\n             * if there exists a similar moving piece on the same rank and file as\n             * the move in question, use the square as the disambiguator\n             */\n            return algebraic(from);\n        }\n        else if (sameFile > 0) {\n            /*\n             * if the moving piece rests on the same file, use the rank symbol as the\n             * disambiguator\n             */\n            return algebraic(from).charAt(1);\n        }\n        else {\n            // else use the file symbol\n            return algebraic(from).charAt(0);\n        }\n    }\n    return '';\n}\nfunction addMove(moves, color, from, to, piece, captured = undefined, flags = BITS.NORMAL) {\n    const r = rank(to);\n    if (piece === PAWN && (r === RANK_1 || r === RANK_8)) {\n        for (let i = 0; i < PROMOTIONS.length; i++) {\n            const promotion = PROMOTIONS[i];\n            moves.push({\n                color,\n                from,\n                to,\n                piece,\n                captured,\n                promotion,\n                flags: flags | BITS.PROMOTION,\n            });\n        }\n    }\n    else {\n        moves.push({\n            color,\n            from,\n            to,\n            piece,\n            captured,\n            flags,\n        });\n    }\n}\nfunction inferPieceType(san) {\n    let pieceType = san.charAt(0);\n    if (pieceType >= 'a' && pieceType <= 'h') {\n        const matches = san.match(/[a-h]\\d.*[a-h]\\d/);\n        if (matches) {\n            return undefined;\n        }\n        return PAWN;\n    }\n    pieceType = pieceType.toLowerCase();\n    if (pieceType === 'o') {\n        return KING;\n    }\n    return pieceType;\n}\n// parses all of the decorators out of a SAN string\nfunction strippedSan(move) {\n    return move.replace(/=/, '').replace(/[+#]?[?!]*$/, '');\n}\nfunction trimFen(fen) {\n    /*\n     * remove last two fields in FEN string as they're not needed when checking\n     * for repetition\n     */\n    return fen.split(' ').slice(0, 4).join(' ');\n}\nexport class Chess {\n    _board = new Array(128);\n    _turn = WHITE;\n    _header = {};\n    _kings = { w: EMPTY, b: EMPTY };\n    _epSquare = -1;\n    _halfMoves = 0;\n    _moveNumber = 0;\n    _history = [];\n    _comments = {};\n    _castling = { w: 0, b: 0 };\n    // tracks number of times a position has been seen for repetition checking\n    _positionCount = {};\n    constructor(fen = DEFAULT_POSITION, { skipValidation = false } = {}) {\n        this.load(fen, { skipValidation });\n    }\n    clear({ preserveHeaders = false } = {}) {\n        this._board = new Array(128);\n        this._kings = { w: EMPTY, b: EMPTY };\n        this._turn = WHITE;\n        this._castling = { w: 0, b: 0 };\n        this._epSquare = EMPTY;\n        this._halfMoves = 0;\n        this._moveNumber = 1;\n        this._history = [];\n        this._comments = {};\n        this._header = preserveHeaders ? this._header : {};\n        this._positionCount = {};\n        /*\n         * Delete the SetUp and FEN headers (if preserved), the board is empty and\n         * these headers don't make sense in this state. They'll get added later\n         * via .load() or .put()\n         */\n        delete this._header['SetUp'];\n        delete this._header['FEN'];\n    }\n    load(fen, { skipValidation = false, preserveHeaders = false } = {}) {\n        let tokens = fen.split(/\\s+/);\n        // append commonly omitted fen tokens\n        if (tokens.length >= 2 && tokens.length < 6) {\n            const adjustments = ['-', '-', '0', '1'];\n            fen = tokens.concat(adjustments.slice(-(6 - tokens.length))).join(' ');\n        }\n        tokens = fen.split(/\\s+/);\n        if (!skipValidation) {\n            const { ok, error } = validateFen(fen);\n            if (!ok) {\n                throw new Error(error);\n            }\n        }\n        const position = tokens[0];\n        let square = 0;\n        this.clear({ preserveHeaders });\n        for (let i = 0; i < position.length; i++) {\n            const piece = position.charAt(i);\n            if (piece === '/') {\n                square += 8;\n            }\n            else if (isDigit(piece)) {\n                square += parseInt(piece, 10);\n            }\n            else {\n                const color = piece < 'a' ? WHITE : BLACK;\n                this._put({ type: piece.toLowerCase(), color }, algebraic(square));\n                square++;\n            }\n        }\n        this._turn = tokens[1];\n        if (tokens[2].indexOf('K') > -1) {\n            this._castling.w |= BITS.KSIDE_CASTLE;\n        }\n        if (tokens[2].indexOf('Q') > -1) {\n            this._castling.w |= BITS.QSIDE_CASTLE;\n        }\n        if (tokens[2].indexOf('k') > -1) {\n            this._castling.b |= BITS.KSIDE_CASTLE;\n        }\n        if (tokens[2].indexOf('q') > -1) {\n            this._castling.b |= BITS.QSIDE_CASTLE;\n        }\n        this._epSquare = tokens[3] === '-' ? EMPTY : Ox88[tokens[3]];\n        this._halfMoves = parseInt(tokens[4], 10);\n        this._moveNumber = parseInt(tokens[5], 10);\n        this._updateSetup(fen);\n        this._incPositionCount(fen);\n    }\n    fen() {\n        let empty = 0;\n        let fen = '';\n        for (let i = Ox88.a8; i <= Ox88.h1; i++) {\n            if (this._board[i]) {\n                if (empty > 0) {\n                    fen += empty;\n                    empty = 0;\n                }\n                const { color, type: piece } = this._board[i];\n                fen += color === WHITE ? piece.toUpperCase() : piece.toLowerCase();\n            }\n            else {\n                empty++;\n            }\n            if ((i + 1) & 0x88) {\n                if (empty > 0) {\n                    fen += empty;\n                }\n                if (i !== Ox88.h1) {\n                    fen += '/';\n                }\n                empty = 0;\n                i += 8;\n            }\n        }\n        let castling = '';\n        if (this._castling[WHITE] & BITS.KSIDE_CASTLE) {\n            castling += 'K';\n        }\n        if (this._castling[WHITE] & BITS.QSIDE_CASTLE) {\n            castling += 'Q';\n        }\n        if (this._castling[BLACK] & BITS.KSIDE_CASTLE) {\n            castling += 'k';\n        }\n        if (this._castling[BLACK] & BITS.QSIDE_CASTLE) {\n            castling += 'q';\n        }\n        // do we have an empty castling flag?\n        castling = castling || '-';\n        let epSquare = '-';\n        /*\n         * only print the ep square if en passant is a valid move (pawn is present\n         * and ep capture is not pinned)\n         */\n        if (this._epSquare !== EMPTY) {\n            const bigPawnSquare = this._epSquare + (this._turn === WHITE ? 16 : -16);\n            const squares = [bigPawnSquare + 1, bigPawnSquare - 1];\n            for (const square of squares) {\n                // is the square off the board?\n                if (square & 0x88) {\n                    continue;\n                }\n                const color = this._turn;\n                // is there a pawn that can capture the epSquare?\n                if (this._board[square]?.color === color &&\n                    this._board[square]?.type === PAWN) {\n                    // if the pawn makes an ep capture, does it leave it's king in check?\n                    this._makeMove({\n                        color,\n                        from: square,\n                        to: this._epSquare,\n                        piece: PAWN,\n                        captured: PAWN,\n                        flags: BITS.EP_CAPTURE,\n                    });\n                    const isLegal = !this._isKingAttacked(color);\n                    this._undoMove();\n                    // if ep is legal, break and set the ep square in the FEN output\n                    if (isLegal) {\n                        epSquare = algebraic(this._epSquare);\n                        break;\n                    }\n                }\n            }\n        }\n        return [\n            fen,\n            this._turn,\n            castling,\n            epSquare,\n            this._halfMoves,\n            this._moveNumber,\n        ].join(' ');\n    }\n    /*\n     * Called when the initial board setup is changed with put() or remove().\n     * modifies the SetUp and FEN properties of the header object. If the FEN\n     * is equal to the default position, the SetUp and FEN are deleted the setup\n     * is only updated if history.length is zero, ie moves haven't been made.\n     */\n    _updateSetup(fen) {\n        if (this._history.length > 0)\n            return;\n        if (fen !== DEFAULT_POSITION) {\n            this._header['SetUp'] = '1';\n            this._header['FEN'] = fen;\n        }\n        else {\n            delete this._header['SetUp'];\n            delete this._header['FEN'];\n        }\n    }\n    reset() {\n        this.load(DEFAULT_POSITION);\n    }\n    get(square) {\n        return this._board[Ox88[square]];\n    }\n    put({ type, color }, square) {\n        if (this._put({ type, color }, square)) {\n            this._updateCastlingRights();\n            this._updateEnPassantSquare();\n            this._updateSetup(this.fen());\n            return true;\n        }\n        return false;\n    }\n    _put({ type, color }, square) {\n        // check for piece\n        if (SYMBOLS.indexOf(type.toLowerCase()) === -1) {\n            return false;\n        }\n        // check for valid square\n        if (!(square in Ox88)) {\n            return false;\n        }\n        const sq = Ox88[square];\n        // don't let the user place more than one king\n        if (type == KING &&\n            !(this._kings[color] == EMPTY || this._kings[color] == sq)) {\n            return false;\n        }\n        const currentPieceOnSquare = this._board[sq];\n        // if one of the kings will be replaced by the piece from args, set the `_kings` respective entry to `EMPTY`\n        if (currentPieceOnSquare && currentPieceOnSquare.type === KING) {\n            this._kings[currentPieceOnSquare.color] = EMPTY;\n        }\n        this._board[sq] = { type: type, color: color };\n        if (type === KING) {\n            this._kings[color] = sq;\n        }\n        return true;\n    }\n    remove(square) {\n        const piece = this.get(square);\n        delete this._board[Ox88[square]];\n        if (piece && piece.type === KING) {\n            this._kings[piece.color] = EMPTY;\n        }\n        this._updateCastlingRights();\n        this._updateEnPassantSquare();\n        this._updateSetup(this.fen());\n        return piece;\n    }\n    _updateCastlingRights() {\n        const whiteKingInPlace = this._board[Ox88.e1]?.type === KING &&\n            this._board[Ox88.e1]?.color === WHITE;\n        const blackKingInPlace = this._board[Ox88.e8]?.type === KING &&\n            this._board[Ox88.e8]?.color === BLACK;\n        if (!whiteKingInPlace ||\n            this._board[Ox88.a1]?.type !== ROOK ||\n            this._board[Ox88.a1]?.color !== WHITE) {\n            this._castling.w &= ~BITS.QSIDE_CASTLE;\n        }\n        if (!whiteKingInPlace ||\n            this._board[Ox88.h1]?.type !== ROOK ||\n            this._board[Ox88.h1]?.color !== WHITE) {\n            this._castling.w &= ~BITS.KSIDE_CASTLE;\n        }\n        if (!blackKingInPlace ||\n            this._board[Ox88.a8]?.type !== ROOK ||\n            this._board[Ox88.a8]?.color !== BLACK) {\n            this._castling.b &= ~BITS.QSIDE_CASTLE;\n        }\n        if (!blackKingInPlace ||\n            this._board[Ox88.h8]?.type !== ROOK ||\n            this._board[Ox88.h8]?.color !== BLACK) {\n            this._castling.b &= ~BITS.KSIDE_CASTLE;\n        }\n    }\n    _updateEnPassantSquare() {\n        if (this._epSquare === EMPTY) {\n            return;\n        }\n        const startSquare = this._epSquare + (this._turn === WHITE ? -16 : 16);\n        const currentSquare = this._epSquare + (this._turn === WHITE ? 16 : -16);\n        const attackers = [currentSquare + 1, currentSquare - 1];\n        if (this._board[startSquare] !== null ||\n            this._board[this._epSquare] !== null ||\n            this._board[currentSquare]?.color !== swapColor(this._turn) ||\n            this._board[currentSquare]?.type !== PAWN) {\n            this._epSquare = EMPTY;\n            return;\n        }\n        const canCapture = (square) => !(square & 0x88) &&\n            this._board[square]?.color === this._turn &&\n            this._board[square]?.type === PAWN;\n        if (!attackers.some(canCapture)) {\n            this._epSquare = EMPTY;\n        }\n    }\n    _attacked(color, square, verbose) {\n        const attackers = [];\n        for (let i = Ox88.a8; i <= Ox88.h1; i++) {\n            // did we run off the end of the board\n            if (i & 0x88) {\n                i += 7;\n                continue;\n            }\n            // if empty square or wrong color\n            if (this._board[i] === undefined || this._board[i].color !== color) {\n                continue;\n            }\n            const piece = this._board[i];\n            const difference = i - square;\n            // skip - to/from square are the same\n            if (difference === 0) {\n                continue;\n            }\n            const index = difference + 119;\n            if (ATTACKS[index] & PIECE_MASKS[piece.type]) {\n                if (piece.type === PAWN) {\n                    if ((difference > 0 && piece.color === WHITE) ||\n                        (difference <= 0 && piece.color === BLACK)) {\n                        if (!verbose) {\n                            return true;\n                        }\n                        else {\n                            attackers.push(algebraic(i));\n                        }\n                    }\n                    continue;\n                }\n                // if the piece is a knight or a king\n                if (piece.type === 'n' || piece.type === 'k') {\n                    if (!verbose) {\n                        return true;\n                    }\n                    else {\n                        attackers.push(algebraic(i));\n                        continue;\n                    }\n                }\n                const offset = RAYS[index];\n                let j = i + offset;\n                let blocked = false;\n                while (j !== square) {\n                    if (this._board[j] != null) {\n                        blocked = true;\n                        break;\n                    }\n                    j += offset;\n                }\n                if (!blocked) {\n                    if (!verbose) {\n                        return true;\n                    }\n                    else {\n                        attackers.push(algebraic(i));\n                        continue;\n                    }\n                }\n            }\n        }\n        if (verbose) {\n            return attackers;\n        }\n        else {\n            return false;\n        }\n    }\n    attackers(square, attackedBy) {\n        if (!attackedBy) {\n            return this._attacked(this._turn, Ox88[square], true);\n        }\n        else {\n            return this._attacked(attackedBy, Ox88[square], true);\n        }\n    }\n    _isKingAttacked(color) {\n        const square = this._kings[color];\n        return square === -1 ? false : this._attacked(swapColor(color), square);\n    }\n    isAttacked(square, attackedBy) {\n        return this._attacked(attackedBy, Ox88[square]);\n    }\n    isCheck() {\n        return this._isKingAttacked(this._turn);\n    }\n    inCheck() {\n        return this.isCheck();\n    }\n    isCheckmate() {\n        return this.isCheck() && this._moves().length === 0;\n    }\n    isStalemate() {\n        return !this.isCheck() && this._moves().length === 0;\n    }\n    isInsufficientMaterial() {\n        /*\n         * k.b. vs k.b. (of opposite colors) with mate in 1:\n         * 8/8/8/8/1b6/8/B1k5/K7 b - - 0 1\n         *\n         * k.b. vs k.n. with mate in 1:\n         * 8/8/8/8/1n6/8/B7/K1k5 b - - 2 1\n         */\n        const pieces = {\n            b: 0,\n            n: 0,\n            r: 0,\n            q: 0,\n            k: 0,\n            p: 0,\n        };\n        const bishops = [];\n        let numPieces = 0;\n        let squareColor = 0;\n        for (let i = Ox88.a8; i <= Ox88.h1; i++) {\n            squareColor = (squareColor + 1) % 2;\n            if (i & 0x88) {\n                i += 7;\n                continue;\n            }\n            const piece = this._board[i];\n            if (piece) {\n                pieces[piece.type] = piece.type in pieces ? pieces[piece.type] + 1 : 1;\n                if (piece.type === BISHOP) {\n                    bishops.push(squareColor);\n                }\n                numPieces++;\n            }\n        }\n        // k vs. k\n        if (numPieces === 2) {\n            return true;\n        }\n        else if (\n        // k vs. kn .... or .... k vs. kb\n        numPieces === 3 &&\n            (pieces[BISHOP] === 1 || pieces[KNIGHT] === 1)) {\n            return true;\n        }\n        else if (numPieces === pieces[BISHOP] + 2) {\n            // kb vs. kb where any number of bishops are all on the same color\n            let sum = 0;\n            const len = bishops.length;\n            for (let i = 0; i < len; i++) {\n                sum += bishops[i];\n            }\n            if (sum === 0 || sum === len) {\n                return true;\n            }\n        }\n        return false;\n    }\n    isThreefoldRepetition() {\n        return this._getPositionCount(this.fen()) >= 3;\n    }\n    isDrawByFiftyMoves() {\n        return this._halfMoves >= 100; // 50 moves per side = 100 half moves\n    }\n    isDraw() {\n        return (this.isDrawByFiftyMoves() ||\n            this.isStalemate() ||\n            this.isInsufficientMaterial() ||\n            this.isThreefoldRepetition());\n    }\n    isGameOver() {\n        return this.isCheckmate() || this.isStalemate() || this.isDraw();\n    }\n    moves({ verbose = false, square = undefined, piece = undefined, } = {}) {\n        const moves = this._moves({ square, piece });\n        if (verbose) {\n            return moves.map((move) => new Move(this, move));\n        }\n        else {\n            return moves.map((move) => this._moveToSan(move, moves));\n        }\n    }\n    _moves({ legal = true, piece = undefined, square = undefined, } = {}) {\n        const forSquare = square ? square.toLowerCase() : undefined;\n        const forPiece = piece?.toLowerCase();\n        const moves = [];\n        const us = this._turn;\n        const them = swapColor(us);\n        let firstSquare = Ox88.a8;\n        let lastSquare = Ox88.h1;\n        let singleSquare = false;\n        // are we generating moves for a single square?\n        if (forSquare) {\n            // illegal square, return empty moves\n            if (!(forSquare in Ox88)) {\n                return [];\n            }\n            else {\n                firstSquare = lastSquare = Ox88[forSquare];\n                singleSquare = true;\n            }\n        }\n        for (let from = firstSquare; from <= lastSquare; from++) {\n            // did we run off the end of the board\n            if (from & 0x88) {\n                from += 7;\n                continue;\n            }\n            // empty square or opponent, skip\n            if (!this._board[from] || this._board[from].color === them) {\n                continue;\n            }\n            const { type } = this._board[from];\n            let to;\n            if (type === PAWN) {\n                if (forPiece && forPiece !== type)\n                    continue;\n                // single square, non-capturing\n                to = from + PAWN_OFFSETS[us][0];\n                if (!this._board[to]) {\n                    addMove(moves, us, from, to, PAWN);\n                    // double square\n                    to = from + PAWN_OFFSETS[us][1];\n                    if (SECOND_RANK[us] === rank(from) && !this._board[to]) {\n                        addMove(moves, us, from, to, PAWN, undefined, BITS.BIG_PAWN);\n                    }\n                }\n                // pawn captures\n                for (let j = 2; j < 4; j++) {\n                    to = from + PAWN_OFFSETS[us][j];\n                    if (to & 0x88)\n                        continue;\n                    if (this._board[to]?.color === them) {\n                        addMove(moves, us, from, to, PAWN, this._board[to].type, BITS.CAPTURE);\n                    }\n                    else if (to === this._epSquare) {\n                        addMove(moves, us, from, to, PAWN, PAWN, BITS.EP_CAPTURE);\n                    }\n                }\n            }\n            else {\n                if (forPiece && forPiece !== type)\n                    continue;\n                for (let j = 0, len = PIECE_OFFSETS[type].length; j < len; j++) {\n                    const offset = PIECE_OFFSETS[type][j];\n                    to = from;\n                    while (true) {\n                        to += offset;\n                        if (to & 0x88)\n                            break;\n                        if (!this._board[to]) {\n                            addMove(moves, us, from, to, type);\n                        }\n                        else {\n                            // own color, stop loop\n                            if (this._board[to].color === us)\n                                break;\n                            addMove(moves, us, from, to, type, this._board[to].type, BITS.CAPTURE);\n                            break;\n                        }\n                        /* break, if knight or king */\n                        if (type === KNIGHT || type === KING)\n                            break;\n                    }\n                }\n            }\n        }\n        /*\n         * check for castling if we're:\n         *   a) generating all moves, or\n         *   b) doing single square move generation on the king's square\n         */\n        if (forPiece === undefined || forPiece === KING) {\n            if (!singleSquare || lastSquare === this._kings[us]) {\n                // king-side castling\n                if (this._castling[us] & BITS.KSIDE_CASTLE) {\n                    const castlingFrom = this._kings[us];\n                    const castlingTo = castlingFrom + 2;\n                    if (!this._board[castlingFrom + 1] &&\n                        !this._board[castlingTo] &&\n                        !this._attacked(them, this._kings[us]) &&\n                        !this._attacked(them, castlingFrom + 1) &&\n                        !this._attacked(them, castlingTo)) {\n                        addMove(moves, us, this._kings[us], castlingTo, KING, undefined, BITS.KSIDE_CASTLE);\n                    }\n                }\n                // queen-side castling\n                if (this._castling[us] & BITS.QSIDE_CASTLE) {\n                    const castlingFrom = this._kings[us];\n                    const castlingTo = castlingFrom - 2;\n                    if (!this._board[castlingFrom - 1] &&\n                        !this._board[castlingFrom - 2] &&\n                        !this._board[castlingFrom - 3] &&\n                        !this._attacked(them, this._kings[us]) &&\n                        !this._attacked(them, castlingFrom - 1) &&\n                        !this._attacked(them, castlingTo)) {\n                        addMove(moves, us, this._kings[us], castlingTo, KING, undefined, BITS.QSIDE_CASTLE);\n                    }\n                }\n            }\n        }\n        /*\n         * return all pseudo-legal moves (this includes moves that allow the king\n         * to be captured)\n         */\n        if (!legal || this._kings[us] === -1) {\n            return moves;\n        }\n        // filter out illegal moves\n        const legalMoves = [];\n        for (let i = 0, len = moves.length; i < len; i++) {\n            this._makeMove(moves[i]);\n            if (!this._isKingAttacked(us)) {\n                legalMoves.push(moves[i]);\n            }\n            this._undoMove();\n        }\n        return legalMoves;\n    }\n    move(move, { strict = false } = {}) {\n        /*\n         * The move function can be called with in the following parameters:\n         *\n         * .move('Nxb7')       <- argument is a case-sensitive SAN string\n         *\n         * .move({ from: 'h7', <- argument is a move object\n         *         to :'h8',\n         *         promotion: 'q' })\n         *\n         *\n         * An optional strict argument may be supplied to tell chess.js to\n         * strictly follow the SAN specification.\n         */\n        let moveObj = null;\n        if (typeof move === 'string') {\n            moveObj = this._moveFromSan(move, strict);\n        }\n        else if (typeof move === 'object') {\n            const moves = this._moves();\n            // convert the pretty move object to an ugly move object\n            for (let i = 0, len = moves.length; i < len; i++) {\n                if (move.from === algebraic(moves[i].from) &&\n                    move.to === algebraic(moves[i].to) &&\n                    (!('promotion' in moves[i]) || move.promotion === moves[i].promotion)) {\n                    moveObj = moves[i];\n                    break;\n                }\n            }\n        }\n        // failed to find move\n        if (!moveObj) {\n            if (typeof move === 'string') {\n                throw new Error(`Invalid move: ${move}`);\n            }\n            else {\n                throw new Error(`Invalid move: ${JSON.stringify(move)}`);\n            }\n        }\n        /*\n         * need to make a copy of move because we can't generate SAN after the move\n         * is made\n         */\n        const prettyMove = new Move(this, moveObj);\n        this._makeMove(moveObj);\n        this._incPositionCount(prettyMove.after);\n        return prettyMove;\n    }\n    _push(move) {\n        this._history.push({\n            move,\n            kings: { b: this._kings.b, w: this._kings.w },\n            turn: this._turn,\n            castling: { b: this._castling.b, w: this._castling.w },\n            epSquare: this._epSquare,\n            halfMoves: this._halfMoves,\n            moveNumber: this._moveNumber,\n        });\n    }\n    _makeMove(move) {\n        const us = this._turn;\n        const them = swapColor(us);\n        this._push(move);\n        this._board[move.to] = this._board[move.from];\n        delete this._board[move.from];\n        // if ep capture, remove the captured pawn\n        if (move.flags & BITS.EP_CAPTURE) {\n            if (this._turn === BLACK) {\n                delete this._board[move.to - 16];\n            }\n            else {\n                delete this._board[move.to + 16];\n            }\n        }\n        // if pawn promotion, replace with new piece\n        if (move.promotion) {\n            this._board[move.to] = { type: move.promotion, color: us };\n        }\n        // if we moved the king\n        if (this._board[move.to].type === KING) {\n            this._kings[us] = move.to;\n            // if we castled, move the rook next to the king\n            if (move.flags & BITS.KSIDE_CASTLE) {\n                const castlingTo = move.to - 1;\n                const castlingFrom = move.to + 1;\n                this._board[castlingTo] = this._board[castlingFrom];\n                delete this._board[castlingFrom];\n            }\n            else if (move.flags & BITS.QSIDE_CASTLE) {\n                const castlingTo = move.to + 1;\n                const castlingFrom = move.to - 2;\n                this._board[castlingTo] = this._board[castlingFrom];\n                delete this._board[castlingFrom];\n            }\n            // turn off castling\n            this._castling[us] = 0;\n        }\n        // turn off castling if we move a rook\n        if (this._castling[us]) {\n            for (let i = 0, len = ROOKS[us].length; i < len; i++) {\n                if (move.from === ROOKS[us][i].square &&\n                    this._castling[us] & ROOKS[us][i].flag) {\n                    this._castling[us] ^= ROOKS[us][i].flag;\n                    break;\n                }\n            }\n        }\n        // turn off castling if we capture a rook\n        if (this._castling[them]) {\n            for (let i = 0, len = ROOKS[them].length; i < len; i++) {\n                if (move.to === ROOKS[them][i].square &&\n                    this._castling[them] & ROOKS[them][i].flag) {\n                    this._castling[them] ^= ROOKS[them][i].flag;\n                    break;\n                }\n            }\n        }\n        // if big pawn move, update the en passant square\n        if (move.flags & BITS.BIG_PAWN) {\n            if (us === BLACK) {\n                this._epSquare = move.to - 16;\n            }\n            else {\n                this._epSquare = move.to + 16;\n            }\n        }\n        else {\n            this._epSquare = EMPTY;\n        }\n        // reset the 50 move counter if a pawn is moved or a piece is captured\n        if (move.piece === PAWN) {\n            this._halfMoves = 0;\n        }\n        else if (move.flags & (BITS.CAPTURE | BITS.EP_CAPTURE)) {\n            this._halfMoves = 0;\n        }\n        else {\n            this._halfMoves++;\n        }\n        if (us === BLACK) {\n            this._moveNumber++;\n        }\n        this._turn = them;\n    }\n    undo() {\n        const move = this._undoMove();\n        if (move) {\n            const prettyMove = new Move(this, move);\n            this._decPositionCount(prettyMove.after);\n            return prettyMove;\n        }\n        return null;\n    }\n    _undoMove() {\n        const old = this._history.pop();\n        if (old === undefined) {\n            return null;\n        }\n        const move = old.move;\n        this._kings = old.kings;\n        this._turn = old.turn;\n        this._castling = old.castling;\n        this._epSquare = old.epSquare;\n        this._halfMoves = old.halfMoves;\n        this._moveNumber = old.moveNumber;\n        const us = this._turn;\n        const them = swapColor(us);\n        this._board[move.from] = this._board[move.to];\n        this._board[move.from].type = move.piece; // to undo any promotions\n        delete this._board[move.to];\n        if (move.captured) {\n            if (move.flags & BITS.EP_CAPTURE) {\n                // en passant capture\n                let index;\n                if (us === BLACK) {\n                    index = move.to - 16;\n                }\n                else {\n                    index = move.to + 16;\n                }\n                this._board[index] = { type: PAWN, color: them };\n            }\n            else {\n                // regular capture\n                this._board[move.to] = { type: move.captured, color: them };\n            }\n        }\n        if (move.flags & (BITS.KSIDE_CASTLE | BITS.QSIDE_CASTLE)) {\n            let castlingTo, castlingFrom;\n            if (move.flags & BITS.KSIDE_CASTLE) {\n                castlingTo = move.to + 1;\n                castlingFrom = move.to - 1;\n            }\n            else {\n                castlingTo = move.to - 2;\n                castlingFrom = move.to + 1;\n            }\n            this._board[castlingTo] = this._board[castlingFrom];\n            delete this._board[castlingFrom];\n        }\n        return move;\n    }\n    pgn({ newline = '\\n', maxWidth = 0, } = {}) {\n        /*\n         * using the specification from http://www.chessclub.com/help/PGN-spec\n         * example for html usage: .pgn({ max_width: 72, newline_char: \"<br />\" })\n         */\n        const result = [];\n        let headerExists = false;\n        /* add the PGN header information */\n        for (const i in this._header) {\n            /*\n             * TODO: order of enumerated properties in header object is not\n             * guaranteed, see ECMA-262 spec (section 12.6.4)\n             */\n            result.push('[' + i + ' \"' + this._header[i] + '\"]' + newline);\n            headerExists = true;\n        }\n        if (headerExists && this._history.length) {\n            result.push(newline);\n        }\n        const appendComment = (moveString) => {\n            const comment = this._comments[this.fen()];\n            if (typeof comment !== 'undefined') {\n                const delimiter = moveString.length > 0 ? ' ' : '';\n                moveString = `${moveString}${delimiter}{${comment}}`;\n            }\n            return moveString;\n        };\n        // pop all of history onto reversed_history\n        const reversedHistory = [];\n        while (this._history.length > 0) {\n            reversedHistory.push(this._undoMove());\n        }\n        const moves = [];\n        let moveString = '';\n        // special case of a commented starting position with no moves\n        if (reversedHistory.length === 0) {\n            moves.push(appendComment(''));\n        }\n        // build the list of moves.  a move_string looks like: \"3. e3 e6\"\n        while (reversedHistory.length > 0) {\n            moveString = appendComment(moveString);\n            const move = reversedHistory.pop();\n            // make TypeScript stop complaining about move being undefined\n            if (!move) {\n                break;\n            }\n            // if the position started with black to move, start PGN with #. ...\n            if (!this._history.length && move.color === 'b') {\n                const prefix = `${this._moveNumber}. ...`;\n                // is there a comment preceding the first move?\n                moveString = moveString ? `${moveString} ${prefix}` : prefix;\n            }\n            else if (move.color === 'w') {\n                // store the previous generated move_string if we have one\n                if (moveString.length) {\n                    moves.push(moveString);\n                }\n                moveString = this._moveNumber + '.';\n            }\n            moveString =\n                moveString + ' ' + this._moveToSan(move, this._moves({ legal: true }));\n            this._makeMove(move);\n        }\n        // are there any other leftover moves?\n        if (moveString.length) {\n            moves.push(appendComment(moveString));\n        }\n        // is there a result?\n        if (typeof this._header.Result !== 'undefined') {\n            moves.push(this._header.Result);\n        }\n        /*\n         * history should be back to what it was before we started generating PGN,\n         * so join together moves\n         */\n        if (maxWidth === 0) {\n            return result.join('') + moves.join(' ');\n        }\n        // TODO (jah): huh?\n        const strip = function () {\n            if (result.length > 0 && result[result.length - 1] === ' ') {\n                result.pop();\n                return true;\n            }\n            return false;\n        };\n        // NB: this does not preserve comment whitespace.\n        const wrapComment = function (width, move) {\n            for (const token of move.split(' ')) {\n                if (!token) {\n                    continue;\n                }\n                if (width + token.length > maxWidth) {\n                    while (strip()) {\n                        width--;\n                    }\n                    result.push(newline);\n                    width = 0;\n                }\n                result.push(token);\n                width += token.length;\n                result.push(' ');\n                width++;\n            }\n            if (strip()) {\n                width--;\n            }\n            return width;\n        };\n        // wrap the PGN output at max_width\n        let currentWidth = 0;\n        for (let i = 0; i < moves.length; i++) {\n            if (currentWidth + moves[i].length > maxWidth) {\n                if (moves[i].includes('{')) {\n                    currentWidth = wrapComment(currentWidth, moves[i]);\n                    continue;\n                }\n            }\n            // if the current move will push past max_width\n            if (currentWidth + moves[i].length > maxWidth && i !== 0) {\n                // don't end the line with whitespace\n                if (result[result.length - 1] === ' ') {\n                    result.pop();\n                }\n                result.push(newline);\n                currentWidth = 0;\n            }\n            else if (i !== 0) {\n                result.push(' ');\n                currentWidth++;\n            }\n            result.push(moves[i]);\n            currentWidth += moves[i].length;\n        }\n        return result.join('');\n    }\n    /*\n     * @deprecated Use `setHeader` and `getHeaders` instead.\n     */\n    header(...args) {\n        for (let i = 0; i < args.length; i += 2) {\n            if (typeof args[i] === 'string' && typeof args[i + 1] === 'string') {\n                this._header[args[i]] = args[i + 1];\n            }\n        }\n        return this._header;\n    }\n    setHeader(key, value) {\n        this._header[key] = value;\n        return this._header;\n    }\n    removeHeader(key) {\n        if (key in this._header) {\n            delete this._header[key];\n            return true;\n        }\n        return false;\n    }\n    getHeaders() {\n        return this._header;\n    }\n    loadPgn(pgn, { strict = false, newlineChar = '\\r?\\n', } = {}) {\n        function mask(str) {\n            return str.replace(/\\\\/g, '\\\\');\n        }\n        function parsePgnHeader(header) {\n            const headerObj = {};\n            const headers = header.split(new RegExp(mask(newlineChar)));\n            let key = '';\n            let value = '';\n            for (let i = 0; i < headers.length; i++) {\n                const regex = /^\\s*\\[\\s*([A-Za-z]+)\\s*\"(.*)\"\\s*\\]\\s*$/;\n                key = headers[i].replace(regex, '$1');\n                value = headers[i].replace(regex, '$2');\n                if (key.trim().length > 0) {\n                    headerObj[key] = value;\n                }\n            }\n            return headerObj;\n        }\n        // strip whitespace from head/tail of PGN block\n        pgn = pgn.trim();\n        /*\n         * RegExp to split header. Takes advantage of the fact that header and movetext\n         * will always have a blank line between them (ie, two newline_char's). Handles\n         * case where movetext is empty by matching newlineChar until end of string is\n         * matched - effectively trimming from the end extra newlineChar.\n         *\n         * With default newline_char, will equal:\n         * /^(\\[((?:\\r?\\n)|.)*\\])((?:\\s*\\r?\\n){2}|(?:\\s*\\r?\\n)*$)/\n         */\n        const headerRegex = new RegExp('^(\\\\[((?:' +\n            mask(newlineChar) +\n            ')|.)*\\\\])' +\n            '((?:\\\\s*' +\n            mask(newlineChar) +\n            '){2}|(?:\\\\s*' +\n            mask(newlineChar) +\n            ')*$)');\n        // If no header given, begin with moves.\n        const headerRegexResults = headerRegex.exec(pgn);\n        const headerString = headerRegexResults\n            ? headerRegexResults.length >= 2\n                ? headerRegexResults[1]\n                : ''\n            : '';\n        // Put the board in the starting position\n        this.reset();\n        // parse PGN header\n        const headers = parsePgnHeader(headerString);\n        let fen = '';\n        for (const key in headers) {\n            // check to see user is including fen (possibly with wrong tag case)\n            if (key.toLowerCase() === 'fen') {\n                fen = headers[key];\n            }\n            this.header(key, headers[key]);\n        }\n        /*\n         * the permissive parser should attempt to load a fen tag, even if it's the\n         * wrong case and doesn't include a corresponding [SetUp \"1\"] tag\n         */\n        if (!strict) {\n            if (fen) {\n                this.load(fen, { preserveHeaders: true });\n            }\n        }\n        else {\n            /*\n             * strict parser - load the starting position indicated by [Setup '1']\n             * and [FEN position]\n             */\n            if (headers['SetUp'] === '1') {\n                if (!('FEN' in headers)) {\n                    throw new Error('Invalid PGN: FEN tag must be supplied with SetUp tag');\n                }\n                // don't clear the headers when loading\n                this.load(headers['FEN'], { preserveHeaders: true });\n            }\n        }\n        /*\n         * NB: the regexes below that delete move numbers, recursive annotations,\n         * and numeric annotation glyphs may also match text in comments. To\n         * prevent this, we transform comments by hex-encoding them in place and\n         * decoding them again after the other tokens have been deleted.\n         *\n         * While the spec states that PGN files should be ASCII encoded, we use\n         * {en,de}codeURIComponent here to support arbitrary UTF8 as a convenience\n         * for modern users\n         */\n        function toHex(s) {\n            return Array.from(s)\n                .map(function (c) {\n                /*\n                 * encodeURI doesn't transform most ASCII characters, so we handle\n                 * these ourselves\n                 */\n                return c.charCodeAt(0) < 128\n                    ? c.charCodeAt(0).toString(16)\n                    : encodeURIComponent(c).replace(/%/g, '').toLowerCase();\n            })\n                .join('');\n        }\n        function fromHex(s) {\n            return s.length == 0\n                ? ''\n                : decodeURIComponent('%' + (s.match(/.{1,2}/g) || []).join('%'));\n        }\n        const encodeComment = function (s) {\n            s = s.replace(new RegExp(mask(newlineChar), 'g'), ' ');\n            return `{${toHex(s.slice(1, s.length - 1))}}`;\n        };\n        const decodeComment = function (s) {\n            if (s.startsWith('{') && s.endsWith('}')) {\n                return fromHex(s.slice(1, s.length - 1));\n            }\n        };\n        // delete header to get the moves\n        let ms = pgn\n            .replace(headerString, '')\n            .replace(\n        // encode comments so they don't get deleted below\n        new RegExp(`({[^}]*})+?|;([^${mask(newlineChar)}]*)`, 'g'), function (_match, bracket, semicolon) {\n            return bracket !== undefined\n                ? encodeComment(bracket)\n                : ' ' + encodeComment(`{${semicolon.slice(1)}}`);\n        })\n            .replace(new RegExp(mask(newlineChar), 'g'), ' ');\n        // delete recursive annotation variations\n        const ravRegex = /(\\([^()]+\\))+?/g;\n        while (ravRegex.test(ms)) {\n            ms = ms.replace(ravRegex, '');\n        }\n        // delete move numbers\n        ms = ms.replace(/\\d+\\.(\\.\\.)?/g, '');\n        // delete ... indicating black to move\n        ms = ms.replace(/\\.\\.\\./g, '');\n        /* delete numeric annotation glyphs */\n        ms = ms.replace(/\\$\\d+/g, '');\n        // trim and get array of moves\n        let moves = ms.trim().split(new RegExp(/\\s+/));\n        // delete empty entries\n        moves = moves.filter((move) => move !== '');\n        let result = '';\n        for (let halfMove = 0; halfMove < moves.length; halfMove++) {\n            const comment = decodeComment(moves[halfMove]);\n            if (comment !== undefined) {\n                this._comments[this.fen()] = comment;\n                continue;\n            }\n            const move = this._moveFromSan(moves[halfMove], strict);\n            // invalid move\n            if (move == null) {\n                // was the move an end of game marker\n                if (TERMINATION_MARKERS.indexOf(moves[halfMove]) > -1) {\n                    result = moves[halfMove];\n                }\n                else {\n                    throw new Error(`Invalid move in PGN: ${moves[halfMove]}`);\n                }\n            }\n            else {\n                // reset the end of game marker if making a valid move\n                result = '';\n                this._makeMove(move);\n                this._incPositionCount(this.fen());\n            }\n        }\n        /*\n         * Per section 8.2.6 of the PGN spec, the Result tag pair must match match\n         * the termination marker. Only do this when headers are present, but the\n         * result tag is missing\n         */\n        if (result && Object.keys(this._header).length && !this._header['Result']) {\n            this.header('Result', result);\n        }\n    }\n    /*\n     * Convert a move from 0x88 coordinates to Standard Algebraic Notation\n     * (SAN)\n     *\n     * @param {boolean} strict Use the strict SAN parser. It will throw errors\n     * on overly disambiguated moves (see below):\n     *\n     * r1bqkbnr/ppp2ppp/2n5/1B1pP3/4P3/8/PPPP2PP/RNBQK1NR b KQkq - 2 4\n     * 4. ... Nge7 is overly disambiguated because the knight on c6 is pinned\n     * 4. ... Ne7 is technically the valid SAN\n     */\n    _moveToSan(move, moves) {\n        let output = '';\n        if (move.flags & BITS.KSIDE_CASTLE) {\n            output = 'O-O';\n        }\n        else if (move.flags & BITS.QSIDE_CASTLE) {\n            output = 'O-O-O';\n        }\n        else {\n            if (move.piece !== PAWN) {\n                const disambiguator = getDisambiguator(move, moves);\n                output += move.piece.toUpperCase() + disambiguator;\n            }\n            if (move.flags & (BITS.CAPTURE | BITS.EP_CAPTURE)) {\n                if (move.piece === PAWN) {\n                    output += algebraic(move.from)[0];\n                }\n                output += 'x';\n            }\n            output += algebraic(move.to);\n            if (move.promotion) {\n                output += '=' + move.promotion.toUpperCase();\n            }\n        }\n        this._makeMove(move);\n        if (this.isCheck()) {\n            if (this.isCheckmate()) {\n                output += '#';\n            }\n            else {\n                output += '+';\n            }\n        }\n        this._undoMove();\n        return output;\n    }\n    // convert a move from Standard Algebraic Notation (SAN) to 0x88 coordinates\n    _moveFromSan(move, strict = false) {\n        // strip off any move decorations: e.g Nf3+?! becomes Nf3\n        const cleanMove = strippedSan(move);\n        let pieceType = inferPieceType(cleanMove);\n        let moves = this._moves({ legal: true, piece: pieceType });\n        // strict parser\n        for (let i = 0, len = moves.length; i < len; i++) {\n            if (cleanMove === strippedSan(this._moveToSan(moves[i], moves))) {\n                return moves[i];\n            }\n        }\n        // the strict parser failed\n        if (strict) {\n            return null;\n        }\n        let piece = undefined;\n        let matches = undefined;\n        let from = undefined;\n        let to = undefined;\n        let promotion = undefined;\n        /*\n         * The default permissive (non-strict) parser allows the user to parse\n         * non-standard chess notations. This parser is only run after the strict\n         * Standard Algebraic Notation (SAN) parser has failed.\n         *\n         * When running the permissive parser, we'll run a regex to grab the piece, the\n         * to/from square, and an optional promotion piece. This regex will\n         * parse common non-standard notation like: Pe2-e4, Rc1c4, Qf3xf7,\n         * f7f8q, b1c3\n         *\n         * NOTE: Some positions and moves may be ambiguous when using the permissive\n         * parser. For example, in this position: 6k1/8/8/B7/8/8/8/BN4K1 w - - 0 1,\n         * the move b1c3 may be interpreted as Nc3 or B1c3 (a disambiguated bishop\n         * move). In these cases, the permissive parser will default to the most\n         * basic interpretation (which is b1c3 parsing to Nc3).\n         */\n        let overlyDisambiguated = false;\n        matches = cleanMove.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);\n        if (matches) {\n            piece = matches[1];\n            from = matches[2];\n            to = matches[3];\n            promotion = matches[4];\n            if (from.length == 1) {\n                overlyDisambiguated = true;\n            }\n        }\n        else {\n            /*\n             * The [a-h]?[1-8]? portion of the regex below handles moves that may be\n             * overly disambiguated (e.g. Nge7 is unnecessary and non-standard when\n             * there is one legal knight move to e7). In this case, the value of\n             * 'from' variable will be a rank or file, not a square.\n             */\n            matches = cleanMove.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/);\n            if (matches) {\n                piece = matches[1];\n                from = matches[2];\n                to = matches[3];\n                promotion = matches[4];\n                if (from.length == 1) {\n                    overlyDisambiguated = true;\n                }\n            }\n        }\n        pieceType = inferPieceType(cleanMove);\n        moves = this._moves({\n            legal: true,\n            piece: piece ? piece : pieceType,\n        });\n        if (!to) {\n            return null;\n        }\n        for (let i = 0, len = moves.length; i < len; i++) {\n            if (!from) {\n                // if there is no from square, it could be just 'x' missing from a capture\n                if (cleanMove ===\n                    strippedSan(this._moveToSan(moves[i], moves)).replace('x', '')) {\n                    return moves[i];\n                }\n                // hand-compare move properties with the results from our permissive regex\n            }\n            else if ((!piece || piece.toLowerCase() == moves[i].piece) &&\n                Ox88[from] == moves[i].from &&\n                Ox88[to] == moves[i].to &&\n                (!promotion || promotion.toLowerCase() == moves[i].promotion)) {\n                return moves[i];\n            }\n            else if (overlyDisambiguated) {\n                /*\n                 * SPECIAL CASE: we parsed a move string that may have an unneeded\n                 * rank/file disambiguator (e.g. Nge7).  The 'from' variable will\n                 */\n                const square = algebraic(moves[i].from);\n                if ((!piece || piece.toLowerCase() == moves[i].piece) &&\n                    Ox88[to] == moves[i].to &&\n                    (from == square[0] || from == square[1]) &&\n                    (!promotion || promotion.toLowerCase() == moves[i].promotion)) {\n                    return moves[i];\n                }\n            }\n        }\n        return null;\n    }\n    ascii() {\n        let s = '   +------------------------+\\n';\n        for (let i = Ox88.a8; i <= Ox88.h1; i++) {\n            // display the rank\n            if (file(i) === 0) {\n                s += ' ' + '87654321'[rank(i)] + ' |';\n            }\n            if (this._board[i]) {\n                const piece = this._board[i].type;\n                const color = this._board[i].color;\n                const symbol = color === WHITE ? piece.toUpperCase() : piece.toLowerCase();\n                s += ' ' + symbol + ' ';\n            }\n            else {\n                s += ' . ';\n            }\n            if ((i + 1) & 0x88) {\n                s += '|\\n';\n                i += 8;\n            }\n        }\n        s += '   +------------------------+\\n';\n        s += '     a  b  c  d  e  f  g  h';\n        return s;\n    }\n    perft(depth) {\n        const moves = this._moves({ legal: false });\n        let nodes = 0;\n        const color = this._turn;\n        for (let i = 0, len = moves.length; i < len; i++) {\n            this._makeMove(moves[i]);\n            if (!this._isKingAttacked(color)) {\n                if (depth - 1 > 0) {\n                    nodes += this.perft(depth - 1);\n                }\n                else {\n                    nodes++;\n                }\n            }\n            this._undoMove();\n        }\n        return nodes;\n    }\n    turn() {\n        return this._turn;\n    }\n    board() {\n        const output = [];\n        let row = [];\n        for (let i = Ox88.a8; i <= Ox88.h1; i++) {\n            if (this._board[i] == null) {\n                row.push(null);\n            }\n            else {\n                row.push({\n                    square: algebraic(i),\n                    type: this._board[i].type,\n                    color: this._board[i].color,\n                });\n            }\n            if ((i + 1) & 0x88) {\n                output.push(row);\n                row = [];\n                i += 8;\n            }\n        }\n        return output;\n    }\n    squareColor(square) {\n        if (square in Ox88) {\n            const sq = Ox88[square];\n            return (rank(sq) + file(sq)) % 2 === 0 ? 'light' : 'dark';\n        }\n        return null;\n    }\n    history({ verbose = false } = {}) {\n        const reversedHistory = [];\n        const moveHistory = [];\n        while (this._history.length > 0) {\n            reversedHistory.push(this._undoMove());\n        }\n        while (true) {\n            const move = reversedHistory.pop();\n            if (!move) {\n                break;\n            }\n            if (verbose) {\n                moveHistory.push(new Move(this, move));\n            }\n            else {\n                moveHistory.push(this._moveToSan(move, this._moves()));\n            }\n            this._makeMove(move);\n        }\n        return moveHistory;\n    }\n    /*\n     * Keeps track of position occurrence counts for the purpose of repetition\n     * checking. All three methods (`_inc`, `_dec`, and `_get`) trim the\n     * irrelevent information from the fen, initialising new positions, and\n     * removing old positions from the record if their counts are reduced to 0.\n     */\n    _getPositionCount(fen) {\n        const trimmedFen = trimFen(fen);\n        return this._positionCount[trimmedFen] || 0;\n    }\n    _incPositionCount(fen) {\n        const trimmedFen = trimFen(fen);\n        if (this._positionCount[trimmedFen] === undefined) {\n            this._positionCount[trimmedFen] = 0;\n        }\n        this._positionCount[trimmedFen] += 1;\n    }\n    _decPositionCount(fen) {\n        const trimmedFen = trimFen(fen);\n        if (this._positionCount[trimmedFen] === 1) {\n            delete this._positionCount[trimmedFen];\n        }\n        else {\n            this._positionCount[trimmedFen] -= 1;\n        }\n    }\n    _pruneComments() {\n        const reversedHistory = [];\n        const currentComments = {};\n        const copyComment = (fen) => {\n            if (fen in this._comments) {\n                currentComments[fen] = this._comments[fen];\n            }\n        };\n        while (this._history.length > 0) {\n            reversedHistory.push(this._undoMove());\n        }\n        copyComment(this.fen());\n        while (true) {\n            const move = reversedHistory.pop();\n            if (!move) {\n                break;\n            }\n            this._makeMove(move);\n            copyComment(this.fen());\n        }\n        this._comments = currentComments;\n    }\n    getComment() {\n        return this._comments[this.fen()];\n    }\n    setComment(comment) {\n        this._comments[this.fen()] = comment.replace('{', '[').replace('}', ']');\n    }\n    /**\n     * @deprecated Renamed to `removeComment` for consistency\n     */\n    deleteComment() {\n        return this.removeComment();\n    }\n    removeComment() {\n        const comment = this._comments[this.fen()];\n        delete this._comments[this.fen()];\n        return comment;\n    }\n    getComments() {\n        this._pruneComments();\n        return Object.keys(this._comments).map((fen) => {\n            return { fen: fen, comment: this._comments[fen] };\n        });\n    }\n    /**\n     * @deprecated Renamed to `removeComments` for consistency\n     */\n    deleteComments() {\n        return this.removeComments();\n    }\n    removeComments() {\n        this._pruneComments();\n        return Object.keys(this._comments).map((fen) => {\n            const comment = this._comments[fen];\n            delete this._comments[fen];\n            return { fen: fen, comment: comment };\n        });\n    }\n    setCastlingRights(color, rights) {\n        for (const side of [KING, QUEEN]) {\n            if (rights[side] !== undefined) {\n                if (rights[side]) {\n                    this._castling[color] |= SIDES[side];\n                }\n                else {\n                    this._castling[color] &= ~SIDES[side];\n                }\n            }\n        }\n        this._updateCastlingRights();\n        const result = this.getCastlingRights(color);\n        return ((rights[KING] === undefined || rights[KING] === result[KING]) &&\n            (rights[QUEEN] === undefined || rights[QUEEN] === result[QUEEN]));\n    }\n    getCastlingRights(color) {\n        return {\n            [KING]: (this._castling[color] & SIDES[KING]) !== 0,\n            [QUEEN]: (this._castling[color] & SIDES[QUEEN]) !== 0,\n        };\n    }\n    moveNumber() {\n        return this._moveNumber;\n    }\n}\n//# sourceMappingURL=chess.js.map","import * as React from \"react\"\r\nimport \"./chess-board.css\"\r\nimport { useState } from \"react\"\r\nimport { Chess, SQUARES } from 'chess.js'\r\nimport wrImage from '../images/wr.png';\r\nimport wkImage from '../images/wk.png';\r\nimport wqImage from '../images/wq.png';\r\nimport wpImage from '../images/wp.png';\r\nimport wbImage from '../images/wb.png';\r\nimport wnImage from '../images/wn.png';\r\nimport brImage from '../images/br.png';\r\nimport bnImage from '../images/bn.png';\r\nimport bbImage from '../images/bb.png';\r\nimport bqImage from '../images/bq.png';\r\nimport bkImage from '../images/bk.png';\r\nimport bpImage from '../images/bp.png';\r\n\r\nconst chess = new Chess();\r\nconst startingBoard = chess.board();\r\nconsole.log(startingBoard);\r\nconsole.log(SQUARES);\r\n\r\nconst pieceImages = {\r\n  'wp': wpImage,\r\n  'wr': wrImage,\r\n  'wn': wnImage,\r\n  'wb': wbImage,\r\n  'wq': wqImage,\r\n  'wk': wkImage,\r\n  'bp': bpImage,\r\n  'br': brImage,\r\n  'bn': bnImage,\r\n  'bb': bbImage,\r\n  'bq': bqImage,\r\n  'bk': bkImage,\r\n};\r\n\r\nconst Board = () => {\r\n  const [board, setBoard] = useState(startingBoard);\r\n  const [selectedCell, setSelectedCell] = useState(null);\r\n  const [legalMoves, setLegalMoves] = useState([]);\r\n\r\n  const movePiece = (move) => {\r\n    console.log('move', move);\r\n    \r\n    try {\r\n      chess.move(move);\r\n      setBoard(chess.board());\r\n    } catch (err) {\r\n      console.log('err', err);\r\n      setLegalMoves([]);\r\n      removeHighlights();\r\n      removeSelected();\r\n    }\r\n  };\r\n\r\n  const undoMove = () => {\r\n    chess.undo();\r\n    setBoard(chess.board());\r\n  };\r\n\r\n  const removeHighlights = () => {\r\n    const highlightedCells = document.querySelectorAll('.highlight');\r\n    highlightedCells.forEach(cell => {\r\n      cell.classList.remove('highlight');\r\n    });\r\n  }\r\n\r\n  const removeSelected = () => {\r\n    removeHighlights();\r\n    const selectedCells = document.querySelectorAll('.selected');\r\n    selectedCells.forEach(cell => {\r\n      cell.classList.remove('selected');\r\n    });\r\n    setSelectedCell(null);\r\n    setLegalMoves([]);\r\n  }\r\n\r\n  const highlightMoves = (square) => {\r\n    removeHighlights();\r\n\r\n    const selectedCells = document.querySelectorAll('.selected');\r\n\r\n    // Select current cell if unselected\r\n    const currentCell = document.querySelector(`[data-square=\"${square}\"]`);\r\n    if(!currentCell.classList.contains('selected')) {\r\n      selectedCells.forEach(cell => {\r\n        cell?.classList.remove('selected');\r\n      });\r\n      currentCell.classList.add('selected');\r\n      setSelectedCell(currentCell);\r\n    } else {\r\n      currentCell.classList.remove('selected');\r\n      setSelectedCell(null);\r\n      return;\r\n    }\r\n\r\n    // Get all possible moves for the piece on the given square\r\n    const moves = chess.moves({square});\r\n    setLegalMoves(moves);\r\n    console.log('moves', moves);\r\n    \r\n    moves.forEach(move => {\r\n      const isCastle = move.includes('O-O');\r\n      if (isCastle) {\r\n        console.log('isCastle', isCastle);\r\n        const isLongCastle = move.includes('O-O-O');\r\n        const turn = chess.turn();\r\n        let kingSquare = turn === 'w' ? 'g1' : 'g8';    \r\n        if (isLongCastle) {\r\n          kingSquare = turn === 'w' ? 'c1' : 'c8';\r\n        }\r\n        const kingCell = document.querySelector(`[data-square=\"${kingSquare}\"]`);\r\n        kingCell?.classList.add('highlight');\r\n      } else {\r\n        const withoutPlus = move.includes('+') ? move.slice(0, move.length - 1) : move;\r\n        const justSquare = withoutPlus.slice(withoutPlus.length - 2);\r\n        const cell = document.querySelector(`[data-square=\"${justSquare}\"]`);\r\n        cell?.classList.add('highlight');\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleCellClick = (square) => {\r\n    if(!square) return;\r\n    setLegalMoves([]);\r\n    removeHighlights();\r\n    removeSelected();\r\n    console.log('square', square);\r\n    \r\n    if(selectedCell) {\r\n      const targetSquare = chess.get(square);\r\n      console.log('targetSquare', targetSquare);\r\n      \r\n      if (!targetSquare) {\r\n        setSelectedCell(null);\r\n        movePiece({ from: selectedCell?.dataset.square, to: square });\r\n      } else {\r\n        if (targetSquare.color === chess.turn()) {\r\n          setLegalMoves([]);\r\n          removeHighlights();\r\n          removeSelected();\r\n        } else {\r\n          setLegalMoves([]);\r\n          removeHighlights();\r\n          removeSelected();\r\n          movePiece({ from: selectedCell?.dataset.square, to: square });\r\n        }\r\n      }\r\n    } else {\r\n      highlightMoves(square);\r\n    }\r\n  };\r\n\r\n  const showPieceImage = (piece) => {\r\n    const key = `${piece.color}${piece.type}`;\r\n    return <img src={pieceImages[key]} alt={key} />\r\n  }\r\n\r\n  return (\r\n    <div className=\"boardComponent\">\r\n      <div className=\"boardContainer\">\r\n        <div className=\"boardStyle\">\r\n          {\r\n          board.map((row, rowIndex) => (\r\n            <div key={rowIndex} className=\"rowStyle\">\r\n              {row.map((cell, cellIndex) => {\r\n                const index = rowIndex * 8 + cellIndex;\r\n                return (\r\n                  <div \r\n                    key={cellIndex} \r\n                    data-square={SQUARES[index]} \r\n                    className=\"cellStyle\" \r\n                    onClick={() => {\r\n                      handleCellClick(SQUARES[index]);\r\n                    }}\r\n                  >\r\n                    {cell?.type && showPieceImage({type: cell.type, color: cell.color})}\r\n                  </div>\r\n                );\r\n              })}\r\n              <div className=\"coordinateLabel rankLabel\">{8 - rowIndex}</div>\r\n            </div>\r\n          ))}\r\n          <div className=\"rowStyle fileLabels\">\r\n            {['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'].map((file, index) => (\r\n              <div key={index} className=\"coordinateLabel fileLabel\">{file}</div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        \r\n        <button onClick={() => {\r\n          movePiece('e4');\r\n        }}>Move</button>\r\n        <button onClick={() => {\r\n          undoMove();\r\n        }}>Undo</button>\r\n      </div>\r\n      <div className=\"infoContainer\">\r\n        <p className=\"selectedCell\">Selected: {selectedCell?.dataset.square}</p>\r\n        <div className=\"legalMoves\">\r\n          <p>Legal Moves:</p>\r\n          {legalMoves.map((move, index) => (\r\n            <span key={index}>{move} </span>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Board;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAARsSURBVGhDzZnfSxRRFMf3h+xqrrKYRCYFQVnKEiwkPkUPgdFTj4JkQi+F0Isv0T+gjz31P0hE+eZLD0WgUFRST6FZiPkDy1+su+3P+p71GPPj3N25szOjHzh+z8zO3HPP3Llzfxjyknw+3wP5azVQhB5/xsbG3iKJSyMjI+9xaEskEolUkEwLXQftxrnjR09PzybEVnmVcVJR+MeHjo6OLESscC1rbm4uzs/PP0RC53B8tKTT6Z8QsaJODexAj45kMpmDSBUjVmA7sDXYL9gyzHYtWVNTUxk/tcMPFgSNqPoEs8cqIt2XSCTy+Okk/OAYHh7+ALFVRgfF/R+hwZHJZK5CrJUgtlkdYS2DW+UsfP9BoPDQ0NAncg+N2WB1SsVYhqGsz1D/yeVyKYg1+A/6o0u5XKavlbWsl1DXRFjrEo/Hl9k10sSqRalUamPXiOO6SOjcLFWanqY2sVhMinuC1RUNPQXwh1ULfrWstLK6wnEi+/v7F9k1coFVi2g0mmTXSBerKxwngk/kNuZIJT6sEg6H2dPDeh86OgnNFoJhc3PzJsT0tSHTQXH/HLQhtPpIZ2dnAvMjGgdMOG0Z6bqD3EJb1YMgQeAuWlOQazUmVywWtwuFwg4pbAd+revvwz8aFhcX70JsFdM18Bt6dKACr2FZVcvUM4bmV64+356DisTa29upMmKFaxlwNStQ4XpApIpMTk4+Gx8ff8WntEDHL87Ozj5GOaf5VLBQAhMTE9Ojo6Pv6LBRo1ViNptNo9zLOA4O1TLXC6OHBPWfVCq1DhErcWhMka3AVnbyYeBr/KVWp2ZWYSXYQvXIDq3nKak1ep2kcsh82/dCoeEaGw4UdBf2jQ40oHuqy2OpXN5dicH3jqWlpTsQWzCGWqBhpPI5mYbWKCYGBwe/QkxBGHqqnmGNwXFWoI0jbYkytPHmOdZYWElSizfWKnNzc48gtsLBOv3xCyHed2hdlCN7b2+vbY3AgXwDs+Rddo3QpqA7KpVKsq+vbwOu9enQfq5v5HI5WoGaYtLOPX5ytz88NTX1FGIqkFGNEV5BndsUl2PTQFwT8dUaGBiYZdfIIszVZoMG3fl8Xnq9VlmViImgOTPsGulg9ZVoNCq9RnXX0mIiWJ7G2TUSyD800T/ZM2HavZEQEymVStL0QErOcxQbGS2sSsREtra2TrFrhAZH30Eie+waqbskFhNZWFiQOvUZVj8pJhIJaev0PKse+NzdltYPIEN//AJ9U4pJM+xp+O7A4HQFYi3Ub+iDYo35HFoX8dUiZmZm7rH7H+6Ifm7hSEvdW6zuwJPol1ZyfqKI9QJ+Y6CQ60ElY43BcRy3vvLVIvAqvcGn+Bof/kfxrXeNVN5BbqEv1QMH1EyEaGtrS7Br4jA4AkrTmbpgTlUdL2ok8QC/9VdPeAUKpmRMzW40Hcrl8i6SUO6iMDfga6H1jtDSE4sfcasGwQ91H+NBC6Y5BUwAafsnDKWxIIxz8dbWVuVUh8sYR0s8qZ5wTCj0D92Clew7pCPlAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPPSURBVGhD7ZnLaxNxEMeTbN6BGmjMoSC0KIIXH1ehnjzUs1B69hTov+GfItTizYMHixerXj3W0IBVgqlNwXTTpmmefidOarLO6k52f0kOfmAys4/fb3d+M7/XJvSfOSPMeoxOp3Ntc3Pz+fr6+pt4PN6KRCI9y7I6uVzuMJFINHBLGPfE+/1+uN1uJ6gMXe92u1Y4HO5Ho9F2vV7PouxFLBa7wLUu3Qvd7vV6g3tQZ5fK0XGr1UqibDSVSp3SeaqL6qVr6XT6JJvNliqVyr3l5eUXKNumcp4oFArvoPrzJsC7EwRa6AaUWNksBdjQIhHWYyCkcTbnjUE6Soh9xLbt+wsLC+/5cMDZ2Rlb5llbWwvt7u7y0W8oIugjV/jw35AjUJchhRMU1qmysbFBre9MrRNoETG1MILMPLW2trbEd3PD7WZqgVnyoFqtfmJ7FNc+IjqCEI6dz2QyoUaDpo9QqFarDSujobAFabLQiFKFfGd9yucoHYb6B6QGOYYcsk3n6PgbhMqE9vb2ni0tLd0k20GPtTfw0nehxvKTZHV19Y9z0xRATnvn/Pz8NpRY2SwF1KFFxNTC8iPF5rwhTheE6Mj29naBzXkjzdobCOFDiA0pQT5CPkNe0+KRLpsW0IO8hXyBfIUUIaeQl7jun52dnadQ4sODFPABWoXbPCKCYfE6m5fgoSRlyDHkAEKtSBEctibJ8BxFeJ+F7AOuxskd1mYoFotPoJyt16CfScHyhyYoZ50VaBWqiCwuLpbZHOWC9URgEzXYmDlQ16lyBLu+q2yOQrP7xGBdJ710krVnVI5g+yktJl3Hdi9gWS4tO9R1qhxB7koP8OUI6pTeIcraMypHksnkr5XjOKo6BKTyFmvPqF6CvoKwaZqZpFaM9aRIdao3dipHeInixFcfAVJ5sxExAUYttsYw64iJUQsEUqfKEfqsyaZpaKmiIojU8hsRCbMRcZm85oIg+og6DUygcmT4V4AD3SeaP5EawmwfcXHEL4H0Ma0jflvfGNrOa6I/TD+1TIABJJDGUTlC//2xGSTTj4iLI377zfQ7ezQapa/uTnxFCY0jvYPZiMARX19MJDASSu+gHua1qSU9QL0tHQV+SKnVYe0ZrSNSf/C1Q0SUA1n2qBwB0kN9RaTZbErfAQb/XGlQjRhHR0eP8vn8Kz68pAEoWrFYbJAStLik6QHnBtelqcKyrDD2N/1cLpe0bXvsayPur6Jsng+Dp1wuP4aitzIqQP2nviq1kAYZNk0jfQ/+KypHSqXSLTZNo+27ugIrKyv7bJpGOY+EQj8BdW9G7+ju2MQAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAARnSURBVGhD7Zk7TFNRGMdp6QOwIOERByUskBBjookRHBxI0AXD6EwYYDHR0UFZjAlJYwgxLoRIcCFiQ5xkYwGV6ATEx2AwBhyABWgpLX3h/7v92rS357Tn3l6uNeGX/Pt959zHOefe8/jObdUZFYaDrSmSyeSF2dnZp52dnRuHh4f1fX19Uw6HY5MPVx4nJyeu9fX1+5OTk6/h91NeLBbr8Hg8CTqcK9AGW3mgYt6urq5dcklOpzO1uLj4dHBw8EsmL1cgBVt5rKysPIIpqLBMIAJrO062Utxud5xdJTBGatCYek5WDqjUNZfLlSRXVaCge0Wj0ctTU1MzmBS6oRurq6sPcN51PmwPQ0NDn2GElRaJxhEqqb1tGk8HBwe3enp6aDYTnVcN3x5Q2DMyRkRvkd6A6FiuQAzWPlBgEz1Bcq0UCMHay/T09CsYYYXMit7c+Pj4WzRoCGl7QGHShhCifCOamJh4g9s8hp8llUrV+3y+Y+Rf4Sxr4BsKK9Le3r6nz8ugzy+mQCDwor+//8fw8PCnlpaWcCYf1MBax+jo6AJMQQX0YnbZaojOUxWgZcA6cMMt2cBn9iGaWn9qqXyiEB0ztDaRwAGstTQ2NlIoIirMCNRg5QYBaZRRMkSRgUEo3AIgRCGjGtach5yo4B+IaprOFcDHvmsJAaYbMjIy8oFdEUbve4ltscaE8JCusm8NoVDoZokxsslWGexvaNwcNzU1HUnuuQ/fWgYGBr7BiAqLQXtpV87R0VE8Eokk4G6lc4rPZqDkHsdU12ptbRWFFbRbdEONWkqMNnbq6upctbW11eAiouIkjyspOO5AY+5w0jooooUpeGr0U4x4PG46VgNRWOvY2dm5K9qfqBAOhynSzbvOiEAXrDWI9hXMNlspiUQi7zq+NiUa4Hox2/DLBzdySt5GyQFOiLoW+ArRGEhCxWbCUfjWIPr8QwIlxwe6VUQ0ZQO6Zxak71Em0BqWdk8+8uHyaWhooMGWVwkSs8G2KJJrf8G3B7/fPw8jq4goMCwAawdN2frr895GOSitI83NzbKoMwh1pN3iSNYK0yGSHqUbBYPBc+xmwdMk49ESCuD8sr4zl0KpIV6vVxbNKu/Y0BBa9f8tvb29GzB5/ZtEfZx+VKDYSnB9yRjKUlDgczJ6AfoooIRkDbF266rC3NzcSxh9RYL0o4rgentnLWJhYaGb3VyO2ZrFsjei3JC1tbXsLi4DwvBmGENf63PB9W68FR8n7QEF+snoRd2DfhT4Lbne9IMwzfLy8hMYfUUO6UcFSfRLi2rZGFpZ5+fn+9jNRXl9wL68YHCje/nQGKXowDJQ4ENRBIsK7iOWCkMx2o+TaAtLUy6gp66BLa5wY0X3HBsbe4dT3iNtD0tLS7QvKKiMFQKmp2NDXYsIBAK32T0NTE/HhhuCLnOaMZN9b8Ttdp9mWOFiaxjDDcGW1cvuaWDfH6NtbW306VI4WMsVsC8aRmEzVGIONL/qZZYdLuaM/5yqqr9DiO8DeGpLdAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAO4SURBVGhD3Zm/b9NAFMeTOk2iUBEkSIjSAamqShkYOlVigBaJpUtHloiFhX+ArYIBqbCxIVVdYOxCYaJDh65ISAwgoaSQKohUiBISFMgP5wd8X/ocxZdz2thOffCRnr/vknPynn1nP599/wt+Vtdpt9sTy8vLr5PJZCmTyZzP5/PRdDp91+/3P+Uu6tNoNC7Mzs5+g/un10AT+u+wvr5OR92UBBloQEfCGKurxGKxH+yKjOT/iJH8cL1eD7LbBWeD5Hmn8S+AgLV4PP6LXNHABFR9EGg4kUiUybUycAmqLs1mMzk/P/8ZrjQBw8bGxtpIZgq+miwtLX2ASIMXDfyGqsn29vYDiBiwqd3zeR6qHrquTy0sLHyC2w02EAhQwJXNzc3HvZ+T8fCKw1eLbDabgohJGNBN0JSIYWAa6gqu3EdCodCgMR/AGaPA+9A0LYNkYtx0hCuJjI+P19mVgqHEnhkUllS0vj1sOcOVRFAkhtm1Q4nVEa4kgpIkwq4UJFpjV0aU1RGuJLK3tzfDbgfcHGm4kdsmi0ajfbVXD4O+O1kwYa+SiAb0lZWVV7LvDAMHUHWYm5ujm5w02EEGqDZzjCtDi6hWq52xNAxIguRlp6EKCOoeyVHGNFhp2KkHArtMYmXME/jqg0CDVEuRaxiTh6l5BkRarVZibW3t2eTk5E80TWcjl8vdRCK34KtPJBLRIaYERAOnoWqC4PzicBpkwJW7uesMk4RhQJ2FiGKxeA3PHi24skCJguw7w8AVqPfIJjUZs8tKBWNfHzKgxhLq1tbWQ4gYHJFjNZAOPUDrX96C0n0mHA73PcaCA9qIoJSn5w5TX+5/FuodqVTqDUQMihYV9smRkBX78z7enpWdnZ37EDGoCm2sQGFJc0LcZx/qDbquTweDQVNQTJHVit3efch4aegi/JNndXX1BcQUEGjR5ihqtVrf5Rp8h5486XT6NkQM5lhg0vddwYDjlRRbD1YYVlV23SLEahtbiXBJYgscffZMnGG1ja1ESqXSOXaHBgeBPROOH7lt/UC5XJZVr9JDLaJpmuyVuOPX5LYSwQOUxq5bDL1wIWIrkY2NjRvs9nKso4rSRja/Bq5UjgxM2EckooEvtBkALXaL+xDv4HuD7FUboLv0QCT7fIU6xvbVolAonGK3ix9ALBesK5WK7PWD40uvI3Ak75CIBpq0sULWH+oti4uLHyFiYJZY9PX+xegRz+smLPq5Vuo4uqOiALzOronDqdKhMyd62l0Oc/O97zQc4/P9BTx0KzXRoJ/2AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPBSURBVGhD7Zk9aFNRFMdfbIwlpqVq1QwGhxS1DoJDIWTq0pJRB+mmgrgXnBSk4CCFDhWkDkKDg1Asks2hQ3ErOEnBoZZqpLFixdgSSU3z6f9/c2+4eSTNM6l5b3g/OO+ce+5N3jm5n+/FcHFxcXFxcXGpUqlUfH6/Pw99W7ossbGxcTMcDqdjsdgaPntVuu2hXC73+Xy+IkzEUtmvequkUqkbo6OjnyYnJ9+i7pp015iamnoDVaGAvHDaxczMzGsoEQwFnKafjIyMpKCUvyycEpSPAPqckQgCOEulCzgKbYyPj3/UfHWJAL09uSO8doIgTlCZxFhYWHimyoDDT1FrJzkvvE4AwZyj0iUYDP7Wy/l8fkjNJ4rkAmxnsbS09BiqFvhBIrkL23kgsIu9vb0Fmq0EfIF2LqaViOxDSpAiC6pO1gegnQWC8jRIoiB1HaqNbHeoyRyRum3m5uZeYnP00K7GanyFeGmYkfUKLgjcWE/Bf0t4OqDjRHK5nE+a5BeEq5gV0rygN396PJ4XSCYkvG3ScSLFYrFHmuS41A3BMqx3yYOVlZX70jaQzObW1tZ1JBSWru4yMTHxHkqN+5ZobX9A+EPWfFodTw3dBTflkNCDaIqpzUPYxvLy8iPlVwL000D3wI05pOoCxZDbwVDaxWTOsKzXgQhsI5FIPGmw4rGn7NtrcHM/1UEiuQJb0N/fn4PS6y6JCifg9XpLUM2SqDskRqNR/vKqvqPjfMerlplIJLIpzTqwKlF9FwXJ9vZ2nzSdRbPe0AUcgxbwMRlK+e19wFI0mLTrEE70JAuqTtaLkaAnDnjotA8E0NMgiYaoNlKMsbGxdVUG9iy5isXFxadQKpiWaG3zpVIpqJXZO/aQyWSioVBoFyYDIeLI3gq2pwwODmaVDexLJBAI8DWQCmSXl1agF0TiZgEdDa2Olt94PP5cmoQbYkswn/wQBm+mke//g6PHSbV8SsTqZJHakFIC7Fm1ZmdnX0GpIL7xYpVsNls7mmjfYc/OPjw8/Fma5IzUlsAuf+gTu+1Eksmk1SdBq7Bn2qbtRNLpdL80iThIWQXDqNEzvT2JrK6utv26E0cT8Y7YEeBX5cORmqj/RKFQ2FGf1b6DC4A9zM/Px6FUIJZ2dVDQz2ba5+v+Y+kq5mM4L63Y29vTjyXkA4Qv9N7BZw+4OXd2PShLaO3v8XscwfT0dALKcjJaWw4v54CAYlRKDsLUZg22s0BQfNtYF2gulxOvgfhKiFqvA5dhOxME5xkYGPhDs5lIhmAfMobxF5zRKkUddHn5AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPCSURBVGhD7Zk/bNNAFMabP42Shj9BygCKIALULnRigYmRoUgk6lRGJgakDrBVIDEgZelS0QUmGsRSVNhQpC6IDdoyABVS1YoMqDQqCNomcZImDt/nnCPHNMWxncRB+Ulf37uLffeez/bduQN9+vTp0+e/ZH5+/tH4+PjHsbGxL9VqNSaqe4/h4eEfMFUKVJTKXoQjAtN7iSwvL9/xer2VqampVCKReOV2u2VUK4lQq6urt+Lx+KfJyck3kUhkB8ld5HmOIxqN/oKpB/4vgRKsZdzC2sbIyMi2cI3iEdZZ4ApfgnLQO2hOe2sBGXoJfYBWoAL0UDnR6aytrd2EURP5qVT2Ggict43+mTgK2xvIshxKJpNP/H7/PooNiVALCwszSOgyfGejf+U2kxgxZ6J7uMl3aB+SoF1WqL8L2YJLWMsgPq/H4ynhtlLarMXbHJeroWvLcdg2j2D+2NIlIfGPEXD8inBNY1si5XJZ21YaCtTcg5EkKStcsiNs9wmFQhwB5b43iub4IqwzQDAPDnjQm6I77jZ854CAwjSqCJ6b3WKxWMnlckX4e6zTHbMO6zzS6fQNmIZgmwlw7RWF7zyMToYUj02lUgkkcxrl7oNAfNwJhsPhHIuqxBXfgDgpbkFfD0m0u5RKpXP64AQMPF1zG+ASn9ImoZ5n2wTdMrOzs89htAlsQkzCCFzW6xMyhaUrgEBcwWCwmM/nB+GL2paRsVypT6ZoJ4fyEVE0jOmZHR0OoUOZSYgqfvYxg7tSqdRndrQZRNtqm4YxnUg8Hn8vXCZFs6cUTIBn7LhuRH8LaxjTiUxMTLwVLuHb6mzNNQfWavVMMCpDSKz9O0l04vf5fOWaq7AurBW4iGQyikBLI2xqRBYXF+/jtavu7vhd6nzNtUQQzxsvjsqmsIYwlcjo6OiScIlt29VAIOAVLgkJawhTiWSz2RPCJQ1PqY20NDWYSiSTyUSES9qVSPs/TMRisc8w2gezyD9WwVK/oGnTlm/Ch4JO7mnXV4CLQ1sQ7ZEk+2o7B4xKWeneApq2+EW/M6CzazSqgOlRwRKFM7naDnkGv3NMT0+/gNEGYBpNO99gOws6fUqjiqj7ciNIktTw5VFwHX7nQcenaLQimKW5ecorhSbozwHH4JvClh0ZAhjEQu+v1yXebNVCobCLBSF/l1GuYI3GvYYH5dpBAOfTnERdRqnoJgjmCpTnP0JZNCLBNnQVZWeBoM5AS/p9vFYCfp2/i7IttG2zjyDZ9gb0GuJyIwjxe/AF6DFuoxlYmxgY+AOpsR2cli4e7QAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAMVSURBVGhDzZpNi1JRGMdHE69TIjJJNERBUBaDBEIhtKhFYLRqOTA0CW0CoUVuoi/gfIK+wxBDzc5NiyBQKCppF4pBVBSSyaDeRLP+J55N+fhyz9u9P/jzf87FOed57us5h1nRyXA4TMN+/y8wggefYrH4AkWc297efoXmVCHhcHiCYlbF7+AncCx4pNPpNmwq+Vmiog4hDg5ra2sDGJvwPMVisVG9Xr+Hgk6h7S/ZbPYzjE10WYEu3D+SyaQLY5Pzokgk8gvFJBDbBYOGvT4TixSPx4fo9yhie2xtbb2GsQmpCLyB26PX612EscmoiK7KScTmwUChzc3NtyI0IfAObh7XdTMwNgkdAk/h0oTJF+I4zkcKTbF0Lhxe/jhCborD5FIonQXNHCGXYulC+v3+WQpNsU4uxdKF4BX5A3OkMTW1ggddmJgt2KHdbl+HTb1xVAVqcCU8PSOpVCqO+dGEmlqgq9H527AJBl4XawoRqoq4i9gfms3mbRibnBeB73D/QALPoYHslSHE/Oon2v6DRKKJREIkwyY8T0DrB1b6gygS2dnZeVwqlZ7RIU+EQqFRtVp9iH6O0yG7iALK5fJ+oVB4KZqqEqvEwWCQRb/n0baHrmUuJ3GS4ObJZDJfYWwSi7TMi4F+YxbZh5qTuJ2440LG9r3QaUj3hsMi0e5KFLE+Wq3WLRg7oElRMUprlH/I5/PvYexgpgU+wdWR3RLVpWg0Ola+KrVa7QGMHcCmwAe4PN1u9wqM7dymwB5cjslkktzY2PiGkO3cpsTOPYqR2x/e3d19BGM79kNAfIjnwk4ac7lclcKg8IV8JmwhuJw9CoNCiHwmbCGj0cihMCgs3L1hCxmPx3qnB+qsks+ELaTT6RyjMCgsXBKzhTQajTMUWsdxHO42Ok3uDbzubura8lEVENP6fcRyuK57AcZ2blNgqS87e2sJKpXKHQr95ga5HDgTl+at5GyIeIJYDXRy1c9igL4NvIODg8swdiCTIsQ/6egBneWF2RShf3MbncaF2RBxDbE5xNITxiagQ8R9xB5ZWfkDc5yRoT5ubU0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAKXSURBVGhD7Zo7juJAEIYxbxAYAwFkCAlyQkRAQEyE4CzchwMQwQWIkDgAKQkCAhMg1sbm4amerUHM2t5tT7cfWPtJpS5mGk/97q6qNkwkLAg4WmHgGCRs47X7RRBFfGEZcxTHVwIrYrPZ3NA1YSUksCwWiyu6Jt5KyPF4RM/MWwnJ5XLomaEWoqrqZ+7AxSxzSBCEp8VisUg2mzWIZTKZp6VSKSOZTBrxeNwgc8gYjX4Pgbwf5t3xJTXUQtbr9aeA8/lsWTUMw3ja/X6PKIoiEIMb8DRN0wRd14Xb7SaQOWR8PB54hd+Q98O8GL6khlpIvV5Hzz8gR2wrKrWQYrFIPdctYFXRM+N7cE4oFAq2nf2thFSr1XAIgYqHnhkrhYE9opAWAGXc8uZb/VCA+q5OJhO11+spzWbz0u/3FegftscD3pCAy+WyPhgMlNFo9KvT6SjT6fSSTqdnOIUJslKeWKVSucDoGpZ/lADd2BBFkXQ2yzlObT6fOxbCnOzD4fBOuvHpdLKtKE6ZzWa2x3U7mIUsl0tuAr7Ybrfo0cMsRJZl7kJqtZrjazIL+fP0yoO/9Qs7mKOAUo0eP0qlEnr0MAtJJBKk0nBFkqRwbC14sEKPHuYooHlxX5FGo+E4LmYh+XwePX7Aini/tdwAnvW9FwIHOfT4EZoV0TTNcd4xC/lJhfkXoVmRn8AsBLYBev7CLASO7+jxw5ccCQr/hbiJoijeb63QJLsb+JLssA3Q8xdmIeQ7DnS5cb1ew9HZZVn+/u0PBcxCRFHk/mC13++9z5F2u81diK7r3gtptVrcc2S1WnG/Oa+Qi3ti4/H4DKMjApns3W6X/4dlL1jePTdst9t5/yG2G0iS5DiuQAo5HA4O//MhEvkA6GtC/duuW/sAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAASESURBVGhD7ZlNSBtBFMdNjCZoYjUKvfhxUZDSQ6BUe+hBsL1YPPYsCp4K7UXooc1FCqIUkdKLaMVeJDZIT/VUDyqtbU8ibXMQQ9Ei1UtNNM3m0/5fOgZ3drbZ3Wy2KfiDP+/tm83OTGZn5k1ScUGZYWPWEJlM5vLCwsJoR0fHzsnJiae3t3fGZrPtsuLy4/T01LG1tXVvenr6Jfw+iiWTyfbq6uo0FZ8XaIEtP9AwZ2dn5yG5JLvdnl1ZWRkdGBj4dBY7L5CFLT82NjYewigarCYQh7UcO7OqVFVVpZirCcwRFzrjYZflAxrlczgcGXK1CiheL0mSrszMzMxjUeiCrm9ubt7HfddYsTUMDg5+hBE2WiSaR2hkbrRpPkUikZvd3d20monuq4RvDajsCRk9olGkERCVnRdIwloHKvTSN0iumQLHsNYyNzf3AkbYIKOikZucnHyFDg3i2hpQmWpHCFFcj6ampgJ4zCP4ebLZrMftdicQv8pC5sAeKGxIW1vbTz5G8LFCCgaDz/r6+kLDw8Pvm5qaYmdx4II1D7/fvwyjaAAvoq6uLpcVnMHfo0eAtgHzwAP31CY+sb29fYSEMjsyMrLNl+NzEpWlUildexMJRGDNpb6+nlIRYYVa5XK5jvR0CKhmGQVTFDUwCVWPALFYTFNag93+ElIge2tr63c0kkXFsPKvuQszwWvzFkb2jZ0pkUgo0vtiBaKw5nJ8fHzjb3MkEAgo0pFCoudBCa/X+4svYxzBN5f+/v4vMIrK8EolQ6GQYgnmhQNZCq9Uurm5eU9UzguU5owzNDT0AUZWWTwep3khi/FCik95Vf6aRgE7u6bXENyGNRfKaGFkFdGSysd4oSOGczUgwZrHwcHBHdH5hOBjvJxOp2xE9Ap0wpqD6FxBrK6u/uDjvDAiihjIiiY4LwbVUTx4kF00GlomOEn0aoHPkA3KQKorIfDDNwfRzz8kLfOjpqYmLlqyAT0zD67vUhDkOvbHPX3HiosHyR9NNlkjSMT4+PiOqKyQGGH41jAxMbEEI2wI0m1FYiiSx+Ohk6AsBmSjUQyacq3GxkZh1hkOh6PLy8vt7NIIhnM9Hk0PikajtczNg2+zoqGhoZpdFgT3F/U7cyE0dQTrvzCbxbKp+cSWTqermPvv6OnpEU5mLKeas1xRKgJoFbMOVPiUDC9kwQlRXCSVPcTco6sWFhcXn8PIGrK7u0tnBFlMj4C1qxaB1amLuXkODw9pRIrB+hHx+Xz7MLJvlHZqvDKGE0H6PEbFDd86UOEEGV5aj7Wzs7PfRHGg628LU1hfX38MI2vI/v7+CR9Tk0r2a8pZXNfOurS01MvcPEg9NO8PbAmWUVlZ6UZniskO9IMKH4gyWHTmqLa2NkYHJ/qHi87kaGCGX3KRAQvnEz1zbGzsNZ7/BtfWsLa2RucCRWPMEDC8HOtO2oLB4C3mlgLDy7HujkiSVMqcyboRwRwo5SbmYFY3ujsSi8WczC0F1v0x2tLSQj9dCidrsQLWZcOobJ5qPAelGbyMcsCqueA/p6LiN2wiKJZw5UH8AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPuSURBVGhD3ZnNTxNBGMbpp6UFa6KtpRwMH0E8eOBE4kGLiRcuxJMX46WX/gPeiB5M0Js3E8JFOZhwET3JgQNXExJDNDFFhdRYY2pra6r0u/i8ZXbTnZ2tZXehg7/kyfPubCnv7M7OvjPt+19wMLedZrM5MDc39yYajRa2t7fPp9PpYDKZvOtwOJ6yj8hPrVa7MDk5mUG43y5Qh58clpaW6KprOkECNfiR4GRuK6FQ6CcLeY7k/xFH8sWVSsXLQhXcDbIXrYOTABJ2hcPh3xTyAgNw+UGivkgkUqTQSOASXF7q9Xp0enr6C0JhBxQ5nc4mOjOKWE5mZ2c/wITJ8wJ/4HKyvr7+AMYnrDlua0/D5aNarY7GYrHPCPmE91ZXVx/z7Wx4hRHLxc7Ozm2YJllieXk5haSr/DlFYBwuD6ijbsI0SWaz2ZISozON9nNt7XRnQogtY8sL0ePxVFioEgwG1ZcikhUWpygsqf3twZE1bOkIikQfC1VwtbutrAvMLWFLR1CS+FmoUi6X1Uo3EAjQMDMiyNwStnRkd3d3goUqSN6DtUcdamBWO8WaRejqsp6BZ+AqGS9QnZ+ffy06pwj8gMvD1NQUveSEyXYSoNrMMraV8aVSycPCrkEnyF61DmQBSd0j+5cYNeY07OQDiV0mMxLjCWL5QaJeemNTqIiRhuS8AzyNRiOyuLj4bHh4+BcONXcjlUrdQkfuIJYfv99vWCAqAqfhcoLkHPxw6iRgy9vcdg7TCUVAno2IfD5/ze12C0t0YmtrKyc6pwhcgfce0UNNIhKJxEeKcbfK/HlFQI4t1LW1tYcwPrn9sbGxFNcuHHqA9r96C0r3CZ/PR3u5muQ2NzepCNS0kQYHB2ndoWsHZ+GWMV1rxePx51hzuNlhC8oql8sJN6pHRkaM9oPp7vWOjY2N+zDN1c1kMnt8W7uwJKZnQtMGvsF7AxZK416vV5MUkUwm8+1tvGKxWGsCaBdN3fjTi4iPn4WFhZcwTUJYtwunYV6i6Rpk4ccPrnwcxiejOTYSlr66GQxY3kkx9bBjWHXaTDBDpzV9V5jqCCtJTIE7wiINZ5ibxlRHCoXCORYemoMRqMPyktvUFxSLRV312mw2hRnyoCOiW9LtZp4hpjqCBZSLhXZx6I0LHlMdWVlZucFCFTw3XV1Vl8sler50O5XHAobHIzJeQ0NDX0XtitBZ2uzWtDHeIe4Nop/aMOTMLLC+wy1jerZAcRhgoQqGjQOi9YeQ/v5+3c8PwPLUawlcyQQZL5T3usKwk0DvF1czMzOfYMIEuxGj9z+MGq3XuxWwrdSx9EZFxXudhULYLCUEnSB73zqwTF/fX4KXGcjmN3GeAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPOSURBVGhD7Zk9aFNRFMdfmpi0MSlVq2ZIcEhR6yA4FEKmLC0ZdZBuRhD3gpOCFByk0KFCWweh4iLFItkcMhS3gpMUMtS2WklasWK0JASTl6Txf27vfdx89jUpeW94P/j3nHduwjsn9/O9KhYWFhYWFhYWR1SrVafb7VZh7/OQLra3t+8Fg8FMNBrdwHdv8bAxHB4eep1OZxkucqkWj6JHpNPpu5FI5OvU1NRHtN3mYY3p6ekPMFUSUFnQKGZnZ9/DsGRI4CLFibGxsTSMiB+yIAfXfYBi5igECVwmIwucgVUmJia+SLGaQoD8eeIBixoJkjhHpk7K8vLyS3ENaPgJtM9xrrCoGUAyfjKyfD5fTr5WVXVEzCcS5yp8c5FIJJ7DaIm3E+chfPOBxK719/eXyD1O4Dusealbiaq5XK5YKpUqxWJRG1JSuwfWXCApW30RNpvt2N4B5ipmYWHhLYxIrur3+7U9pJ0IWNpYL8CNkd8Nfdx2TKFQcHJXSSaTf3Z3d2kV00OG/qA3f6MH36CYAIt2SNeFlMtlO3eVQCBwlrtNQdKsFzhP1tbWHnNfQTGpvb29OygoyEO9ZXJy8jNMzbDRI/ALoh+yWRudGnoLbkpDoiGZduI8ha+srq4+k9tIQD4N9A7cmIZUTTIej+ev1+s9cLlcWTnOCcFX4vH4i/oVD1BPGbfX4OZuMu3EuQmfMTg4WICR266zBjPgcDgqMK2KqDkkhsNh+uVFe1fH+a5XrXpCoVCKuzVgVSLzk11w9vf3vdw1F616QxZwwTLoMRlGxI19wBLUT9pYLLaZSqWyi4uLOyIutbORIBcO6FhjHEjAXl+E8I+RMj4+vimugTFLrmBlZWUeRiQjJ9pWQK1UKj7pmnrHGLLZbBjHkgO4lAidehuO7O00PDycF76hhWDTo9dALJGtrS1W0HHCBG/6OWDc0JKHVT6f11agdkKvqfKcEgLGTHY8R5wXyycxPz/fsDq1ElYrbUgJGVbI3NzcOxiWRCKR+CF8PRoYGNCOJkLAmJ19dHT0G3eVSCRyibu6sNvtpz6xOy5kZ2dH75NgA/j1uVdD06BeOi4kk8kMcpd2dXaQ0gv2Dwd3ZYwpZH19vePXnaqqsnfEpgDDgx6OtMl6EtFDV30M0AJgDEtLS69hWCLNXsQ1E/aRUot9pOZ/LD1FPobr3RDRG/KxhEhCJegTYsaAm78i04k4j+Cbg5mZmThM02TbCdDwMg9IKErmJOJswDcXSIreNtYk6/V62WsgeiUkxzk34JsTJGcbGhr6R24rcUbgnzKK8h+VNIud85KYIwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAOwSURBVGhD7Zk9aBNhGMebmKT5lFgyKEEDQttBSsHFTo4OFUzo5ujkIHTQrTg4RLJ0KbaCThqRQqW6SdpSsKO1FaoWsVgNRdKERrRN0jRpkuv/Od8Ld9evu+YuuUh+8Of/vtck7/Pcvfd+ta1FixYtWvyXTExMPBoYGPjU39//leO4ILvcfHR2dqZhHAmU+YvNCD0RWPMlsrCwcNdisZSHhoZikUjkjdlsruAynwhpeXn5digU+jw4OPjO7/dvIrnL9D3DEQgE/sCqgR8nUITXjJm5ZnR1dW2wolJOMTcWuMNXoBz0Hnou7lqgAr2GPkKL0A4U5r9odFZWVm7BhER+8xebDQRO3Ub+TnjgzUGlUvFGo9Gndrt9F1VJIqTJyckRJNSHsrGRD7mHiT0xYyJ7ubmZmZn1fD6/m06n82tra1vC30QyFojZIk9CKCuQcZCtqTjM7ttC/TiBRXhNaDYhlkql6m/19PTEUXew6oF4PJ4sKxKbzBuP1+vNww6848cJFODGAME8UDpaicW4g7JxQEA+MrHa29u3kGAZc0rBZrNl5H8H3+HGIx6P34RJgj1MgNZeAZSNh5ruRZ+NxWIRJHMe9caDQGy0E/T5fDmqCqI7Hg6HV2dnZ9fn5uaSY2NjP49ItLEUi8WL8uAICry7uzsuvk7C/JJLJpOShAUBE7wxjI6OvoQJgXBTU1OJjo6OpHDtKC0tLdGyXn69/tAddDqdtFXlkyBXK5PJRAcS1ToQT5T6gwadZILm5+dpi1utqxFuxl9xHVjh9SEYDH6BCQ1zvb29P4R6rQL0DtWH8fHxxzC+4UQiQd1hX0BqhC4mHzD030miETtm6dK/IrZ6fX00O0sCUyur1Sq5GYBWAfoyPT39EMY3mMlkaMFXDaAWIZnq1hh8g+sLulIIxjdYKBT4J6O1QAqumBPtR7LZ7BlWpIMGalgPVE2OJ0oklUr5WVHPRPQ/mBAPvSQsUTR5TxwOx45QBpqcCR8JGrkvXl+Vy2XFK14lYkRR1h/5U8E8oNlLD+hEvz6gsetkgmp5KuhS1SUK4wXK9WN4ePgVbF9gtQj8gtcXNPqMTKyD9uWHyePxSE4eGTdQrj9o+ByZXG63O6fykI44jfKJ0GRHhgCseNn3DZcY2TiXy7WFucbKRrkyJlM3Pi+ZI1AnO4vfUDWb6wKCuQpt0z9CqapEjA3oGurGAkFdgD7I9/FiMfLQPdQ1QbfNPoKk316F3kLUlVwQnQdfgp6gG43ANaKtbQ+tn7vxouBwtgAAAABJRU5ErkJggg==\"","import * as React from \"react\"\r\nimport Board from \"../components/chess-board.js\"\r\n\r\nconst Page = () => (\r\n  <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n    <h1>Quick Chess</h1>\r\n    <Board />\r\n  </div>\r\n)\r\n\r\nexport default Page\r\n\r\nexport const Head = () => <title>quick-chess</title>"],"names":["WHITE","BLACK","PAWN","BISHOP","ROOK","QUEEN","KING","DEFAULT_POSITION","Move","color","from","to","piece","captured","promotion","flags","san","lan","before","after","constructor","chess","internal","fromAlgebraic","algebraic","toAlgebraic","this","legal","fen","flag","BITS","FLAGS","isCapture","indexOf","isPromotion","isEnPassant","isKingsideCastle","isQueensideCastle","isBigPawn","EMPTY","NORMAL","CAPTURE","BIG_PAWN","EP_CAPTURE","PROMOTION","KSIDE_CASTLE","QSIDE_CASTLE","SQUARES","Ox88","a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1","PAWN_OFFSETS","b","w","PIECE_OFFSETS","n","r","q","k","ATTACKS","RAYS","PIECE_MASKS","p","PROMOTIONS","SIDES","ROOKS","square","SECOND_RANK","TERMINATION_MARKERS","rank","file","isDigit","c","f","substring","swapColor","addMove","moves","undefined","push","i","length","inferPieceType","pieceType","charAt","match","toLowerCase","strippedSan","move","replace","trimFen","split","slice","join","_board","Array","_turn","_header","_kings","_epSquare","_halfMoves","_moveNumber","_history","_comments","_castling","_positionCount","skipValidation","load","clear","preserveHeaders","tokens","adjustments","concat","ok","error","moveNumber","parseInt","isNaN","halfMoves","test","rows","sumFields","previousWasNumber","kings","regex","some","char","toUpperCase","validateFen","Error","position","_put","type","_updateSetup","_incPositionCount","empty","castling","epSquare","bigPawnSquare","squares","_makeMove","isLegal","_isKingAttacked","_undoMove","reset","get","put","_updateCastlingRights","_updateEnPassantSquare","sq","currentPieceOnSquare","remove","whiteKingInPlace","blackKingInPlace","startSquare","currentSquare","attackers","_attacked","verbose","difference","index","offset","j","blocked","attackedBy","isAttacked","isCheck","inCheck","isCheckmate","_moves","isStalemate","isInsufficientMaterial","pieces","bishops","numPieces","squareColor","sum","len","isThreefoldRepetition","_getPositionCount","isDrawByFiftyMoves","isDraw","isGameOver","map","_moveToSan","forSquare","forPiece","us","them","firstSquare","lastSquare","singleSquare","castlingFrom","castlingTo","legalMoves","strict","moveObj","_moveFromSan","JSON","stringify","prettyMove","_push","turn","undo","_decPositionCount","old","pop","pgn","newline","maxWidth","result","headerExists","appendComment","moveString","comment","reversedHistory","prefix","Result","strip","wrapComment","width","token","currentWidth","includes","header","args","setHeader","key","value","removeHeader","getHeaders","loadPgn","newlineChar","mask","str","trim","headerRegexResults","RegExp","exec","headerString","headers","headerObj","parsePgnHeader","encodeComment","s","charCodeAt","toString","encodeURIComponent","toHex","decodeComment","startsWith","endsWith","decodeURIComponent","fromHex","ms","_match","bracket","semicolon","ravRegex","filter","halfMove","Object","keys","output","disambiguator","ambiguities","sameRank","sameFile","ambigFrom","ambigTo","getDisambiguator","cleanMove","matches","overlyDisambiguated","ascii","perft","depth","nodes","board","row","history","moveHistory","trimmedFen","_pruneComments","currentComments","copyComment","getComment","setComment","deleteComment","removeComment","getComments","deleteComments","removeComments","setCastlingRights","rights","side","getCastlingRights","startingBoard","console","log","pieceImages","setBoard","useState","selectedCell","setSelectedCell","setLegalMoves","movePiece","err","removeHighlights","removeSelected","document","querySelectorAll","forEach","cell","classList","handleCellClick","targetSquare","dataset","selectedCells","currentCell","querySelector","contains","add","isCastle","isLongCastle","kingSquare","kingCell","withoutPlus","justSquare","highlightMoves","className","rowIndex","cellIndex","onClick","src","alt","showPieceImage","style","display","flexDirection","alignItems","justifyContent","Head"],"sourceRoot":""}